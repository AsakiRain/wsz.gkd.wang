!function(i){var n={};function a(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=i,a.c=n,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=196)}({196:function(t,e,i){t.exports=i(197)},197:function(t,e,i){var a=Txplayer.$,s=Txplayer.util,n=(Txplayer.apiList,i(198)),o=i(199);function r(t){a=Txplayer.$,this.dataset={},this.context=t,this.init()}r.prototype={init:function(){this.write(),this.addEventListerner()},write:function(){var t={time:"txp-control-time-mod",currentTimeRole:"txp-control-currenttime",durationRole:"txp-control-duration"},e=a.tmpl(s.isTouchPlayer(this.context)?o:n,t),i=s.isTouchPlayer(this.context)?this.context.$mod.$progressmod.parent():this.context.$mod.$buttonsleftmod;i.append(e),this.dataset.$time=i.find('[data-role="'+t.time+'"]'),this.dataset.$currenttime=i.find('[data-role="'+t.currentTimeRole+'"]'),this.dataset.$duration=i.find('[data-role="'+t.durationRole+'"]')},remove:function(){this.dataset.$time.remove()},updateDuration:function(t){var e;"undefined"===a.type(t)&&(t=this.context.dataset.duration),"number"===a.type(t)&&(0==t?1===(this.context.dataset.playList||[]).length&&(t=(e=this.context.msg.getData("getFocusVideoTag"))&&e.duration||0,"number"===a.type(t)&&0<t&&(this.dataset.$duration.html(s.formatPlayTime(t)),this.context.dataset.duration=t)):this.dataset.$duration.html(s.formatPlayTime(t)))},updateCurrentTime:function(t){"undefined"===a.type(t)&&(t=this.context.dataset[s.isUseHls(this.context)?"currentTimeWithHlsAd":"currentTime"]);var e,i=this.context.dataset.duration;0==i&&1===(this.context.dataset.playList||[]).length&&(i=(e=this.context.msg.getData("getFocusVideoTag"))&&e.duration||0,"number"===a.type(i)&&0<i&&(this.dataset.$duration.html(s.formatPlayTime(i)),this.context.dataset.duration=i)),"number"!==a.type(i)||i<t||"number"===a.type(t)&&this.dataset.$currenttime.html(s.formatPlayTime(t))},addEventListerner:function(){var t=this,n=this;n.updateDuration(),this.dataset.eventsList={},this.dataset.eventsList[s.getUniqueMsgKey("getVideoUrlSuccess")]=function(){n.updateDuration()},this.dataset.eventsList[s.getUniqueMsgKey("vidChange")]=function(){n.updateCurrentTime(0),n.updateDuration(0)},this.dataset.eventsList[s.getUniqueMsgKey("videoEnd")]=function(t){t&&"film"===t.playListType&&(t.playListTypeEnd||t.isTheLastFilm)&&(n.context.dataset.canPlayTime?n.updateCurrentTime(n.context.dataset.canPlayTime):n.updateCurrentTime(0),n.updateDuration())},this.dataset.eventsList[s.getUniqueMsgKey("playStateChange")]=function(t){t&&0==t.state&&(n.updateDuration(0),n.updateCurrentTime(0))},this.dataset.eventsList.beforeVideoRePlay=function(){n.updateDuration()},this.dataset.eventsList.videoHlsManifestParsed=function(t){var e=t&&t.totalduration,i=t&&t.durationChanged;void 0!==n.context.dataset.duration&&0!=n.context.dataset.duration&&!i||n.updateDuration(e)};var e=s.isUseHls(this.context)?"videoTimeUpdateWithHlsAd":"videoTimeUpdate";this.dataset.eventsList[s.getUniqueMsgKey(e)]=function(t){n.context.dataset.isControlShow&&"film"==n.context.dataset.currentPlayListType&&n.updateCurrentTime()},this.dataset.eventsList[s.getUniqueMsgKey("speedyTouchmove")]=function(t){n.updateCurrentTime(t)},this.dataset.eventsList[s.getUniqueMsgKey("progressUpdate")]=function(t){var e=n.context.dataset.duration,i=e<e*t/100?e:e*t/100;n.updateCurrentTime(i)},this.dataset.eventsList[s.getUniqueMsgKey("seekStart")]=function(t){t&&"number"===a.type(t.seekTime)&&n.updateCurrentTime(t.seekTime)};function i(){t.context.dataset.isPlayingAd||t.context.dataset.isControlShow||t.updateCurrentTime()}this.dataset.eventsList[s.getUniqueMsgKey("beforeUiControlShow")]=i,s.isTouchPlayer(this.context)&&(this.dataset.eventsList[s.getUniqueMsgKey("beforeTouchControlPanelShow")]=i),a.each(this.dataset.eventsList,function(t,e){n.context.msg.on(t,e)})}},Txplayer.register("UiShowTime",r)},198:function(t,e){t.exports='<txpdiv data-role="<%=time%>" class="txp_time_display">\n  <txpdiv class="txp_time_current" data-role="<%=currentTimeRole%>">00:00</txpdiv>\n  <txpdiv class="txp_time_separator">/</txpdiv>\n  <txpdiv class="txp_time_duration" data-role="<%=durationRole%>">00:00</txpdiv>\n  <txpdiv class="txp_live_badge">\u76f4\u64ad</txpdiv>\n</txpdiv>'},199:function(t,e){t.exports='<txpdiv data-role="<%=time%>" class="txp_touch_time_display">\n  <txpdiv class="txp_touch_time_current" data-role="<%=currentTimeRole%>">00:00</txpdiv>\n  <txpdiv class="txp_touch_time_duration" data-role="<%=durationRole%>">00:00</txpdiv>\n</txpdiv>'}});!function(n){var i={};function o(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=n,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=208)}({208:function(t,e,n){t.exports=n(209)},209:function(t,e,n){var i=n(210),o=Txplayer.$;Txplayer.util;function r(t){o=Txplayer.$,this.dataset={},this.context=t,this.init()}r.prototype={init:function(){this.write()},write:function(){var t={duration:Txplayer.util.formatPlayTime(this.context.dataset.duration||0)},e=o.tmpl(i,t);this.dataset.renderData=t,this.context.$mod.$buttonsrightmod.append(e),this.dataset.$duration=this.context.$mod.$buttonsrightmod.find('[data-role="txp-button-duration"]'),this.dataset.$time=this.dataset.$duration.find('[data-role="txp-button-duration-time"]'),this.addEventListener(),this.context.config.useMiniSkin||this.hide()},hide:function(){this.dataset.$duration.addClass(Txplayer.dataset.hideClass)},show:function(){this.context.config.useMiniSkin&&this.dataset.$duration.removeClass(Txplayer.dataset.hideClass)},updateDuration:function(){this.dataset.$time.html(Txplayer.util.formatPlayTime(this.context.dataset.duration||0))},addEventListener:function(){var t=this;this.context.msg.on("getVideoUrlSuccess",function(){t.updateDuration()})}},Txplayer.register("UiDuration",r)},210:function(t,e){t.exports='<txpdiv class="txp_time_display" data-role="txp-button-duration">\n\t<txpdiv class="txp_time_duration" data-role="txp-button-duration-time"><%=duration%></txpdiv>\n</txpdiv>'}});!function(a){var n={};function s(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=a,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=283)}({283:function(t,e,a){t.exports=a(284)},284:function(t,e,a){var s=Txplayer.$,n=(Txplayer.util,a(285));function r(t){s=Txplayer.$,this.msg=new Txplayer.Events,this.dataset={},this.context=t,this.init()}r.prototype={init:function(){this.write(),this.handleDisplay(),this.handleCurrent(),this.addEventListerner()},write:function(){var t={btn:"txp-ui-control-barrage-btn",hideClass:Txplayer.dataset.hideClass,tabindex:Txplayer.dataset.tabindex++};this.dataset.renderData=t;var e=s.tmpl(n,t);this.context.$mod.$buttonsrightmod.append(e),this.dataset.$btn=this.context.$mod.$buttonsrightmod.find('[data-role="'+t.btn+'"]'),this.dataset.hasBarrage=this.context.dataset.isShowBulletRegion,this.dataset.isFullScreen=this.context.dataset.isWindowFullscreen,this.dataset.isOpenBarrage=this.context.dataset.flashBulletSwitchStatus,this.dataset.isCoolOpen="coolOpen"===this.context.config.playerType,this.handleDisplay(),this.handleCurrent()},remove:function(){this.dataset.$btn.remove()},handleDisplay:function(){this.dataset.$btn[this.dataset.hasBarrage&&(this.dataset.isFullScreen||this.dataset.isCoolOpen)?"removeClass":"addClass"](Txplayer.dataset.hideClass)},handleCurrent:function(){this.dataset.$btn[this.dataset.isOpenBarrage?"addClass":"removeClass"](Txplayer.dataset.currentClass)},addEventListerner:function(){var e=this;e.dataset.$btn.on(Txplayer.dataset.clickEventName,function(){var t;e.context.dataset.isPlayingHlsAd||(t=!s(this).hasClass(Txplayer.dataset.currentClass),e.context.msg.broadcast("bulletSwitch",t))}),e.context.msg.on("flashBulletSwitchStatusChange",function(t){e.dataset.isOpenBarrage=t,e.handleCurrent()}),e.context.msg.on("showBulletRegion",function(t){e.dataset.hasBarrage=t,e.handleDisplay()}),e.context.msg.on("windowFullscreenChange",function(t){e.dataset.isFullScreen=t,e.handleDisplay()});var a=!1,n=Txplayer.dataset.currentClass;e.context.msg.on("switchHlsAd",function(t){t?(a=e.dataset.$btn.hasClass(n),e.dataset.$btn.removeClass(n)):a&&e.dataset.$btn.addClass(n)})}},Txplayer.register("UiBarrageBtn",r)},285:function(t,e){t.exports='<button data-role="<%=btn%>" class="txp_btn txp_btn_barrage <%=hideClass%>" data-report="barrage-btn">\n\t<txpdiv class="txp_btn_inner">\u5f39\u5e55</txpdiv>\n</button>'}});!function(i){var s={};function n(t){if(s[t])return s[t].exports;var e=s[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=i,n.c=s,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=355)}({355:function(t,e,i){t.exports=i(356)},356:function(t,e,i){var o=Txplayer.$,n=Txplayer.util,s=i(357),a=i(358);function d(t){o=Txplayer.$,this.dataset={},this.context=t,this.init()}d.prototype={init:function(){this.dataset.currentClass="txp_current",this.write(),this.addEventListener(),this.hide(),this.context.dataset.getinfoJSON&&this.initList()},write:function(){var t={definition:"txp-ui-control-subtitle-btn",hoverBtn:"txp-ui-control-subtitle-btn-hover",list:"txp-ui-control-subtitle-list",tabindex:Txplayer.dataset.tabindex++};this.dataset.renderData=t;var e=o.tmpl(s,t);this.context.$mod.$buttonsrightmod.append(e),this.dataset.$definition=this.context.$mod.$buttonsrightmod.find('[data-role="'+t.definition+'"]'),this.dataset.$hover=this.context.$mod.$buttonsrightmod.find('[data-role="'+t.hoverBtn+'"]'),this.dataset.$list=this.context.$mod.$buttonsrightmod.find('[data-role="'+t.list+'"]')},remove:function(){this.dataset.$definition.remove(),this.dataset.$list.remove()},show:function(){this.dataset.$definition.removeClass(Txplayer.dataset.hideClass)},hide:function(){this.dataset.$definition.addClass(Txplayer.dataset.hideClass)},updateDefinitionList:function(t,e){var i=this;if(!t||t.length<=0||i.context.config.hidesubtitle)return i.dataset.hasList=!1,void i.dataset.$definition.addClass("txp_none");i.dataset.hasList=!0,i.dataset.currentSubtitleObj=e||t[0];var s={list:i.dataset.subtitleList=t,currentSubtitleId:this.dataset.currentSubtitleObj.id,currentClass:i.dataset.currentClass},n=o.tmpl(a,s);i.dataset.$list.html(n),i.dataset.$hover.html(i.dataset.currentSubtitleObj.name),i.context.msg.broadcast("changeSubtitle",i.dataset.currentSubtitleObj),this.show()},getList:function(){var t=this,e=t.context.dataset.subtitleData&&t.context.dataset.subtitleData.fi;return e||(t.context.dataset.subtitleData&&t.context.dataset.subtitleData.url?[{name:"\u672a\u77e5",keyid:"0",url:t.context.dataset.subtitleData.url}]:void 0)},initList:function(){var t,e=this,i=this,s=i.context.dataset.getinfoJSON&&i.context.dataset.getinfoJSON.sfl;s&&s.fi&&(t=s.fi),t&&0<t.length&&n.loadPlugins(["UiSubtitle"],this.context,{},function(){Txplayer.dataset.isReadyPlugins.some(function(t){return/UiSubtitle$/i.test(t)})?(i.context.dataset.subtitleList={list:t,selItem:t[0]},i.updateDefinitionList(t),i.dataset.$definition.removeClass("txp_disabled"),i.context.msg.broadcast("setSubtitleList")):e.remove()})},addEventListener:function(){var a=this;this.dataset.eventsList={},this.context.msg.on("getVideoUrlSuccess",function(){a.initList()}),this.dataset.eventsList[n.getUniqueMsgKey("videoPlaying")]=function(t){setTimeout(function(){a.dataset.hasList&&a.dataset.$definition.removeClass("txp_disabled")},100)},this.dataset.eventsList[n.getUniqueMsgKey("videoEnd")]=function(t){t.isAllEnd&&a.dataset.$definition.addClass("txp_disabled")},this.dataset.$definition.on("mouseleave",function(t){if("block"==a.dataset.$list.parent().css("display")){if(null===t.relatedTarget)return;a.dataset.$list.parent().hide(),o(this).removeClass("active")}}),this.dataset.$definition.on("click",function(t){var e;o(t.target).parents().hasClass("txp_popup")||("none"==(e=a.dataset.$list.parent()).css("display")?(e.show(),o(this).addClass("active")):(e.hide(),o(this).removeClass("active")))}),this.dataset.$list.on("click",function(t){var e=o(t.target),i=e.data("id");if(i&&!e.hasClass(a.dataset.currentClass)&&i!=a.dataset.currentSubtitleObj.id&&a.dataset.subtitleList)for(var s=0,n=a.dataset.subtitleList.length;s<n;s++)if(a.dataset.subtitleList[s].id==i){a.dataset.currentSubtitleObj=i,a.updateDefinitionList(a.dataset.subtitleList,a.dataset.subtitleList[s]);break}}),o.each(this.dataset.eventsList,function(t,e){a.context.msg.on(t,e)})}},Txplayer.register("UiSubtitleBtn",d)},357:function(t,e){t.exports='<txpdiv data-role="<%=definition%>" class="txp_btn txp_btn_definition txp_disabled" aria-label="\u5b57\u5e55">\n  <txpdiv class="txp_label" data-role="<%=hoverBtn%>">\u5b57\u5e55</txpdiv>\n  <txpdiv class="txp_popup txp_popup_definition">\n      <txpdiv class="txp_popup_content" data-role="<%=list%>">\n      </txpdiv>\n  </txpdiv>\n</txpdiv>'},358:function(t,e){t.exports='<% for(var len = list.length,i=len-1; i>=0; i--){%>\n  <txpdiv class="txp_menuitem <% if(list[i].id===currentSubtitleId) {%><%=currentClass%><% } %>">\n    <txpdiv class="txp_definition_text" data-id="<%=list[i].id%>">\n      <%=list[i].name%>\n    </txpdiv>\n  </txpdiv>\n<% } %>'}});!function(o){var a={};function n(t){if(a[t])return a[t].exports;var e=a[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=o,n.c=a,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=470)}({470:function(t,e,o){t.exports=o(471)},471:function(t,e,o){var u=Txplayer.$,a=Txplayer.util,n=(Txplayer.apiList,o(472));function s(t){u=Txplayer.$,this.msg=new Txplayer.Events,this.dataset={},this.context=t,this.init()}s.prototype={init:function(){this.dataset.volumeKey=Txplayer.dataset.localStorageKey.volumeHistory,this.write(),this.setVolumeByCache(),this.onVolumeUpdate(),this.addEventListener()},write:function(){var t={volumeButton:"txp-control-volume-button",volumeValue:"txp-control-volume-value",volumeClickButton:"txp-control-volume-click-button",volumeDrag:"txp-control-volume-drag",volumeRange:"txp-control-volume-range",volumeHandler:"txp-control-volume-handler",tabindex:Txplayer.dataset.tabindex++};this.dataset.renderData=t;var e=u.tmpl(n,t);this.context.$mod.$buttonsrightmod.append(e),this.dataset.$volumeButton=this.context.$mod.$buttonsrightmod.find('[data-role="'+t.volumeButton+'"]'),this.dataset.$volumeClickButton=this.context.$mod.$buttonsrightmod.find('[data-role="'+t.volumeClickButton+'"]'),this.dataset.$volumeValue=this.context.$mod.$buttonsrightmod.find('[data-role="'+t.volumeValue+'"]'),this.dataset.$volumeDrag=this.context.$mod.$buttonsrightmod.find('[data-role="'+t.volumeDrag+'"]'),this.dataset.$volumeRange=this.context.$mod.$buttonsrightmod.find('[data-role="'+t.volumeRange+'"]'),this.dataset.$volumeHandler=this.context.$mod.$buttonsrightmod.find('[data-role="'+t.volumeHandler+'"]')},remove:function(){this.dataset.$volumeButton.remove()},setVolumeByCache:function(){var t,e;this.context.config.disableCacheVolume||this.context.config.browserDisableAutoPlay&&this.context.config.autoPlayInMute||(t=this.getData(),isNaN(t)&&(t=this.context.dataset.volume),e=this,a.v4log("setVolumeByCache",{volume:t}),"number"===u.type(t)&&(100<t&&(t=100,this.setData(100)),this.context.msg.listenerCount("setVolume")?this.context.msg.broadcast("setVolume",{isUserAction:!1,volume:t}):this.context.msg.on("ready",function(){e.context.msg.broadcast("setVolume",{isUserAction:!1,volume:t})})))},getData:function(){if(!this.context.config.disableCacheVolume){var t=a.getData(this.dataset.volumeKey),e=parseInt(t);return isNaN(e)||"number"!==u.type(e)?void 0:e}},setData:function(t){this.context.config.disableCacheVolume||a.setData(this.dataset.volumeKey,t)},onVolumeUpdate:function(t){var e;if(t||(t={},e=this.context.dataset.muted,t.volume=e?0:this.context.dataset.volume),t&&"number"===u.type(t.volume)&&this.updateVolumeUi(t.volume),t&&t.isUserAction&&"number"===u.type(t.volume)){if(100<t.volume||t.volume<0)return;this.setData(t.volume)}},updateVolumeUi:function(t){this.dataset.$volumeValue.css("height",t+"%"),0===t?this.dataset.$volumeButton.attr("data-status","mute"):this.dataset.$volumeButton.attr("data-status","normal")},volumeDrag:function(){function e(t,e){var o;void 0===e&&(e=!0),o=u(t.target).data("role")===s.dataset.renderData.volumeHandler?t.offsetY+t.target.offsetParent.offsetTop+t.target.offsetTop:u(t.target).data("role")===s.dataset.renderData.volumeValue?t.offsetY+t.target.offsetTop:t.offsetY,n=o<=0?100:a<=o?0:(n=a-o,parseInt(n/a*100)),e&&(s.updateVolumeUi(n),s.context.msg.broadcast("setVolume",{volume:n,showTips:!0,isUserAction:!0})),0<n&&(s.dataset.changedVolume=n)}var a,n,o=!1,s=this;this.dataset.$volumeRange.on("mousedown",function(t){o=!0,a=s.dataset.$volumeRange.height(),s.dataset.$volumeDrag.height(),s.dataset.$volumeRange.get(0).offsetTop,e(t,!1)}).on("mousemove",function(t){o&&e(t)}).on("mouseup",function(t){o=!1,e(t)}).on("mouseleave",function(){o=!1}).on("click",function(t){t.stopPropagation()}),this.dataset.$volumeDrag.on("click",function(t){t.stopPropagation()})},addEventListener:function(){var n=this;this.dataset.eventsList={},this.dataset.eventsList[a.getUniqueMsgKey("volumeChange")]=function(t){n.onVolumeUpdate(t)},this.dataset.eventsList[a.getUniqueMsgKey("updateChangedVolume")]=function(t){n.dataset.changedVolume=t.volume},u.each(this.dataset.eventsList,function(t,e){n.context.msg.on(t,e)}),this.dataset.$volumeButton.on("click",function(t){var e=u(this);n.dataset.$volumeDrag.parent().show();var o=n.context.dataset.muted,a=n.context.dataset.volume;(e.hasClass("active")||(e.addClass("active"),o||0===a))&&("normal"===e.attr("data-status")?e.attr("data-status","mute"):e.attr("data-status","normal"),o||0===a?(0===a&&(a=n.dataset.changedVolume||n.context.config.volume),o&&0==a&&(n.context.config.browserDisableAutoPlay||n.context.config.autoPlayInMute)&&(a=50),n.context.msg.broadcast("setVolume",{isUserAction:!0,volume:a}),n.updateVolumeUi(a)):(n.context.msg.broadcast("setVolume",{isUserAction:!0,volume:0}),n.updateVolumeUi(0)))}),this.dataset.$volumeButton.on("mouseleave",function(t){clearTimeout(n.dataset.mouseLeaveTimer),n.dataset.$volumeDrag.parent().hide(),u(this).removeClass("active")}),this.dataset.$volumeDrag.parent().on("mouseenter",function(t){clearTimeout(n.dataset.mouseLeaveTimer)}),this.dataset.$volumeClickButton.on("mouseleave",function(t){n.dataset.mouseLeaveTimer=setTimeout(function(){n.dataset.$volumeDrag.parent().hide(),u(this).removeClass("active")},300)}),this.volumeDrag()}},Txplayer.register("v4UiVolume",s)},472:function(t,e){t.exports='<txpdiv class="txp_btn txp_btn_volume" data-role="<%=volumeButton%>" data-status="normal" aria-label="\u97f3\u91cf">\n    <svg data-role="<%=volumeClickButton%>" data-report="mute-toggle" class="txp_icon txp_icon_volume" version="1.1" viewBox="0 0 24 24">\n        <use class="txp_svg_symbol txp_svg_volume" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="<%=svgPrefix%>#txp_svg_volume"></use>\n        <use class="txp_svg_symbol txp_svg_volume_mute" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="<%=svgPrefix%>#txp_svg_volume_mute"></use>\n    </svg>\n\n    <txpdiv class="txp_popup txp_popup_volume" data-report="change-volume">\n        <txpdiv data-role="<%=volumeDrag%>" class="txp_popup_content">\n            <txpdiv data-role="<%=volumeRange%>" class="txp_volume_range">\n                <txpdiv data-role="<%=volumeValue%>" class="txp_volume_range_current" style="height:100%">\n                    <txpdiv data-role="<%=volumeHandler%>" class="txp_volume_handle"></txpdiv>\n                </txpdiv>\n            </txpdiv>\n        </txpdiv>\n    </txpdiv>\n</txpdiv>'}});!function(i){var a={};function o(t){if(a[t])return a[t].exports;var e=a[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=i,o.c=a,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(i,a,function(t){return e[t]}.bind(null,a));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=226)}({226:function(t,e,i){t.exports=i(227)},227:function(t,e,i){var o=Txplayer.$,p=Txplayer.util,a=(Txplayer.apiList,i(228)),s=i(57);function r(t){o=Txplayer.$,this.dataset={},this.context=t,this.init()}r.prototype={init:function(){this.write(),this.dataset.currentPicWidth=200,this.previewdata=new s(this.context),this.addEventListener()},write:function(){var t={hideClass:Txplayer.dataset.hideClass,previewMod:"txp_preview_mod",timeText:"txp-preview-time-text",previewImage:"txp-preview-image"};this.dataset.renderData=t;var e=o.tmpl(a,t);this.context.$mod.$playermod.append(e),this.dataset.$previewMod=this.context.$mod.$playermod.find('[data-role="'+t.previewMod+'"]'),this.dataset.$timeText=this.context.$mod.$playermod.find('[data-role="'+t.timeText+'"]'),this.dataset.$previewImage=this.context.$mod.$playermod.find('[data-role="'+t.previewImage+'"]'),this.dataset.$progressList=this.context.$mod.$progressmod.find('[data-role="txp-control-progress-list"]')},remove:function(){this.dataset.$previewMod.remove()},updateImage:function(t,e,i){var a=this;if(!((e=e||this.previewdata.getDataByTime(t,this.dataset.currentPicWidth))&&e.url&&e.hasOwnProperty("x")&&e.hasOwnProperty("y")))return this.dataset.$previewMod.addClass("txp_tooltip_preview_tiny"),void this.dataset.$previewImage.css({"background-image":"none"});this.dataset.$previewMod.removeClass("txp_tooltip_preview_tiny");var o;this.dataset.imageUrl||(i||((o=new Image).onload=function(){a.previewdata.preloadPreviewImg(t,a.dataset.currentPicWidth)},o.src=e.url),this.dataset.$previewImage.css({"background-image":"url("+e.url+")","background-position":e.x+" "+e.y,"background-size":e.size+"px,auto"}),this.showVideoPreview())},calcProgressByMousePosition:function(t){var e=-1,i=o(t.target),a=i.data("role");return"txp-control-progress-list"===a||"txp-control-progress"===a||"txp-control-center"===a?e=t.offsetX:"txp-control-progress-indicator"===a?e=t.target.offsetLeft+t.target.offsetParent.offsetLeft+t.offsetX:"txp-control-play-point"!==a&&"txp-control-play-progress"!==a&&"txp-control-load-progress"!==a&&"txp-control-onlywatch-progress"!==a&&!i.hasClass("txp_interact_dot")||(e=t.target.offsetLeft+t.offsetX),e},addEventListener:function(){var i=this,a=!1;i.context.$mod.$progressmod.on("mouseenter",function(){i.context.dataset.isPlayingAd||i.context.dataset.isImgAdLoadingShowing||i.context.dataset.isShowPreviewList||i.showVideoPreview()}).on("mouseleave",function(){a=!1,i.hideVideoPreview()}).on("mousedown",function(){a=!0,i.dataset.$previewMod.hasClass("txp_tooltip_preview_tiny")||i.hideVideoPreview()}).on("mouseup",function(){setTimeout(function(){a=!1},500)}).on("mousemove",function(t){var e;i.context.dataset.isPlayingAd||i.context.dataset.isImgAdLoadingShowing||(i.context.dataset.isShowPreviewList||a&&!i.dataset.$previewMod.hasClass("txp_tooltip_preview_tiny")?i.hideVideoPreview():(e=i.context.$mod.$progressmod.parent()[0].offsetLeft,i.updateVideoPreview({x:i.calcProgressByMousePosition(t)+e,progressWidth:i.dataset.$progressList.width()+e,duration:i.context.dataset.duration})))}),this.dataset.eventsList={},this.dataset.eventsList[p.getUniqueMsgKey("vidChange")]=function(){i.hideVideoPreview(),i.previewdata.destroyData()},this.dataset.eventsList[p.getUniqueMsgKey("hideUiControl")]=function(){i.hideVideoPreview()},this.dataset.eventsList[p.getUniqueMsgKey("previewPreload")]=function(t){i.dataset.$previewMod.hasClass(Txplayer.dataset.hideClass)||i.dataset.currentTime==t.cTime&&i.updateImage(t.cTime,t.imgInfo,t.isPreload)},o.each(this.dataset.eventsList,function(t,e){i.context.msg.on(t,e)})},showVideoPreview:function(){var t=this;t.context.dataset.getinfoJSON&&t.context.dataset.isControlShow&&(t.context.dataset.isDisableProgress||(t.context.dataset.disableShowPreview?t.dataset.$previewMod.addClass(Txplayer.dataset.hideClass):t.dataset.$previewMod.removeClass(Txplayer.dataset.hideClass)))},hideVideoPreview:function(){this.dataset.$previewMod.addClass(Txplayer.dataset.hideClass)},updateVideoPreview:function(t){var e,i,a,o,s,r,n,d=this;t&&(t.x>t.progressWidth?t.x=t.progressWidth:t.x<0&&(t.x=0),t.hasOwnProperty("x")&&(e=d.dataset.currentPicWidth,d.dataset.$previewMod.hasClass("txp_tooltip_preview_tiny")&&(e=window.Zepto?d.dataset.$timeText.width():d.dataset.$timeText.outerWidth()),i=parseInt(e/2),(a=t.x-i)<=0?a=0:t.progressWidth&&a>t.progressWidth-e&&!this.context.config.useMiniSkin&&(a=t.progressWidth-e),d.dataset.$previewMod.css("left",a)),t.hasOwnProperty("x")&&t.duration&&(o=t.duration*(t.x/t.progressWidth),s=parseInt(o),r=p.getHlsAdOffsetTime(o,this.context),n=p.formatPlayTime(s),d.dataset.$timeText.html(n),d.dataset.currentTime=s,p.isTimeInHlsAdRange(s,this.context)?this.hideVideoPreview():d.updateImage(parseInt(r))))}},Txplayer.register("UiPreview",r)},228:function(t,e){t.exports='<txpdiv data-role="<%=previewMod%>" class="txp_tooltip_preview txp_tooltip_preview_hover <%=hideClass%>" style="left:0;">\n  <txpdiv class="txp_tooltip_bg txp_tooltip_current_bg" data-role="<%=previewImage%>">\n\t  <txpdiv class="txp_tooltip_text" data-role="<%=timeText%>"></txpdiv>\n  </txpdiv>\n  <txpdiv class="txp_tooltip_dot_text txp_none"></txpdiv>\n</txpdiv>'},57:function(t,e){var h=Txplayer.$;function i(t){this.context=t,this.dataset={},this.dataset.loaded={}}i.prototype={getDataByTime:function(t,e){return"array"===h.type(this.context.dataset.previewData)&&this.context.dataset.previewData.length?this.preFindPosition(t,e):(this.findPreviewData(),"array"===h.type(this.context.dataset.previewData)&&this.context.dataset.previewData.length?this.preFindPosition(t,e):"")},preFindPosition:function(t,e){var i;return 1<this.context.dataset.previewData.length?(i=this.findPosition(t,e,this.context.dataset.previewData[this.context.dataset.previewData.length-1]))?this.dataset.loaded&&this.dataset.loaded[i.url]?i:this.findPosition(t,e,this.context.dataset.previewData[0]):{}:this.findPosition(t,e,this.context.dataset.previewData[0])},findPosition:function(t,e,i){var a=this.getsTime(),o=1;t+a>=this.context.dataset.duration?t=this.context.dataset.duration-1:0!=t&&(t+=a);var s=Math.ceil((t||1)/a),r=i[0].picCount,n=Math.ceil(s/r)-1,d=i[n];if(1<a&&0===t&&(s=1),d){var p=s-r*n,c=0===(c=p%d.columnCount)?d.columnCount:c,l=(Math.ceil(p/d.columnCount)-1)*d.picHeight,h=(c-1)*d.picWidth;return{url:d.path,x:-1*h*(o=e/d.picWidth)+"px",y:-1*l*o+"px",size:d.columnCount*e,pixX:h,pixY:l,picWidth:d.picWidth,picHeight:d.picHeight,columnCount:d.columnCount,rowCount:d.rowCount}}},preloadPreviewImg:function(t,e){var i,a,o,s=this;"array"===h.type(this.context.dataset.previewData)&&1<this.context.dataset.previewData.length&&(i=this.context.dataset.previewData[this.context.dataset.previewData.length-1],a=this.findPosition(t,e,i,!0),(o=new Image).onload=function(){s.dataset.loaded[this.src]=!0,s.context.msg.broadcast("previewPreload",{cTime:t,imgInfo:a,isPreload:!0})},o.src=a.url)},getsTime:function(){var t=this.context.dataset.duration,e=t<60?1:t<300?2:t<600?5:10;return e},findPreviewData:function(){if("object"===h.type(this.context.dataset.getinfoJSON)){var i,a,o,t=this.context.dataset.getinfoJSON,s=this,r=[],n=this.context.dataset.duration,d=this.getsTime();this.context.dataset.previewData=[];if(t&&t.vl&&t.vl.vi&&t.vl.vi[0]&&t.vl.vi[0].pl&&t.vl.vi[0].pl[0]&&t.vl.vi[0].pl[0].pd&&t.vl.vi[0].pl[0].pd.length)for(var e=t.vl.vi[0].pl[0].pd,p=t.vl.vi[0],c=0,l=e.length;c<l;c++)!function(t){if(t){for(r=[],a=Math.floor(n/d),i=Math.ceil(a/(t.r*t.c)),o=0;o<i;o++){var e={index:o,path:t.url+p.lnk+"."+t.fn+"."+(o+1)+".jpg/0",picCount:t.r*t.c,picWidth:t.w,picHeight:t.h,rowCount:t.r,columnCount:t.c,filename:t.fn,format:t.fmt};r.push(e)}s.context.dataset.previewData.push(r)}}(e[c])}},destroyData:function(){this.dataset={},this.dataset.loaded={},this.context.dataset.previewData=[]}},t.exports=i}});!function(i){var a={};function s(t){if(a[t])return a[t].exports;var e=a[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=i,s.c=a,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(i,a,function(t){return e[t]}.bind(null,a));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=229)}({229:function(t,e,i){t.exports=i(230)},230:function(t,e,i){var c=Txplayer.$,l=Txplayer.util,a=(Txplayer.apiList,i(231)),s=i(57);function r(t){c=Txplayer.$,this.dataset={},this.context=t,this.init()}r.prototype={init:function(){this.write(),this.dataset.currentPicWidth=200,this.dataset.smallPicWidth=160,this.resize(),this.previewdata=new s(this.context),this.addEventListener()},write:function(){var t={hideClass:Txplayer.dataset.hideClass,previewMod:"txp_preview_mod_list",timeText:"txp-preview-time-text-list",previewImage:"txp-preview-image-list",previewPoster:"txp-preview-image-poster",previewPosterMod:"txp-preview-image-poster-mod"};this.dataset.renderData=t;var e=c.tmpl(a,t);this.context.$mod.$playermod.append(e),this.dataset.$previewMod=this.context.$mod.$playermod.find('[data-role="'+t.previewMod+'"]'),this.dataset.$progressList=this.context.$mod.$progressmod.find('[data-role="txp-control-progress-list"]'),this.dataset.$previewPoster=this.context.$mod.$playermod.find('[data-role="'+t.previewPoster+'"]'),this.dataset.$previewPosterMod=this.context.$mod.$playermod.find('[data-role="'+t.previewPosterMod+'"]')},resize:function(){if(this.context.dataset.$playermod.width()!=this.dataset.playermodWidth){this.dataset.playermodWidth=this.context.dataset.$playermod.width(),this.dataset.playermodHeight=this.context.dataset.$playermod.height();var t=Math.ceil((this.context.dataset.$playermod.width()-this.dataset.currentPicWidth)/this.dataset.smallPicWidth)*this.dataset.smallPicWidth+this.dataset.currentPicWidth;this.dataset.$previewMod.css({width:t+this.dataset.smallPicWidth});var e=Math.ceil((this.dataset.playermodWidth-this.dataset.currentPicWidth)/this.dataset.smallPicWidth)+1;this.dataset.len=e+1,this.dataset.$previewImage&&this.dataset.$previewImage.remove();for(var i=0;i<this.dataset.len;i++)this.dataset.$previewMod.append('<txpdiv class="txp_tooltip_bg" data-role="txp-preview-image-list" ><txpdiv class="txp_tooltip_text" data-role="txp-preview-time-text-list"></txpdiv></txpdiv>');this.dataset.$previewImage=this.context.$mod.$playermod.find('[data-role="txp-preview-image-list"]'),this.dataset.$timeText=this.context.$mod.$playermod.find('[data-role="txp-preview-time-text-list"]'),this.dataset.currentPicIndex=Math.ceil((this.dataset.playermodWidth/2-this.dataset.currentPicWidth/2)/this.dataset.smallPicWidth),c(this.dataset.$previewImage[this.dataset.currentPicIndex]).addClass("txp_tooltip_current_bg");var a=(this.dataset.playermodWidth/2-this.dataset.currentPicWidth/2)%this.dataset.smallPicWidth-this.dataset.smallPicWidth;this.dataset.$previewMod.css("left",a),this.context.msg.broadcast("previewListSizeChange")}},remove:function(){this.dataset.$previewMod.remove()},updatePoster:function(t){var e=this.dataset.playermodWidth/t.picWidth,i=this.dataset.playermodHeight/t.picHeight;this.dataset.$previewPoster.css({"background-image":"url("+t.url+")","background-position":-t.pixX*e+"px "+-t.pixY*i+"px","background-size":t.picWidth*t.columnCount*e+"px "+t.picHeight*t.rowCount*i+"px"})},updatePreloadImg:function(t,e){var i=this.previewdata.getsTime(),a=(t-this.dataset.currentTime)/i+this.dataset.currentPicIndex;a<0||a>=this.dataset.len||(c(this.dataset.$previewImage[a]).css({"background-image":"url("+e.url+")","background-position":e.x+" "+e.y,"background-size":e.size+"px,auto"}),a==this.dataset.currentPicIndex&&this.updatePoster(e),this.showVideoPreview())},updateImage:function(t,e){for(var i=this,a=this.previewdata.getsTime(),s=0;s<this.dataset.len;s++){var r=t+(s-this.dataset.currentPicIndex)*a,o=e+(s-this.dataset.currentPicIndex)*a;if(s!=this.dataset.currentPicIndex&&(r>this.context.dataset.duration||r<0))c(this.dataset.$previewImage[s]).css({"background-image":"none"}),c(this.dataset.$timeText[s]).addClass("txp_none"),c(this.dataset.$timeText[s]).html("");else{var d,n=s==this.dataset.currentPicIndex?this.dataset.currentPicWidth:this.dataset.smallPicWidth,p=this.previewdata.getDataByTime(r,n);if(p&&p.url&&p.hasOwnProperty("x")&&p.hasOwnProperty("y")){s==this.dataset.currentPicIndex&&(d=l.formatPlayTime(o),this.dataset.currentTime=r,c(this.dataset.$timeText[s]).removeClass("txp_none"),c(this.dataset.$timeText[s]).html(d));if(this.dataset.imageUrl)return;if(l.isTimeInHlsAdRange(t,this.context))return;var h=new Image;h.onload=void i.previewdata.preloadPreviewImg(r,n),h.src=p.url,c(this.dataset.$previewImage[s]).css({"background-image":"url("+p.url+")","background-position":p.x+" "+p.y,"background-size":p.size+"px,auto"}),s==this.dataset.currentPicIndex&&this.updatePoster(p),this.showVideoPreview()}else c(this.dataset.$previewImage[s]).css({"background-image":"none"}),c(this.dataset.$timeText[s]).addClass("txp_none"),c(this.dataset.$timeText[s]).html("")}}},isInProgressArea:function(t){if(1!=t.which)return!1;var e=c(t.target).data("role");return-1<l.inArray(["txp-control-progress-list","txp-control-progress","txp-control-progress-indicator","txp-control-play-point","txp-control-play-progress","txp-control-load-progress","txp-control-center"],e)||c(t.target).hasClass("txp_interact_dot")},calcProgressByMousePosition:function(t){return t.pageX-this.context.$mod.$playermod.offset().left},addEventListener:function(){var i=this,e=i.context.dataset.$playermod&&i.context.dataset.$playermod.attr("id"),a="";c("body").on(l.getNSEventName("mousedown",i.context),function(t){i.context.dataset.isPlayingAd||i.context.dataset.isImgAdLoadingShowing||i.isInProgressArea(t)&&(Object.keys&&1<Object.keys(Txplayer.dataset._instance).length&&(a=c(t.target).parents(".txp_player").attr("id")),e&&a&&a!==e||(i.dataset.mouseUp=!1,i.resize(),setTimeout(function(){i.dataset.mouseUp||(i.dataset.mouseIn=!0,i.updateVideoPreview({x:i.calcProgressByMousePosition(t),progressWidth:i.dataset.$progressList.width(),duration:i.context.dataset.duration}),c(this).addClass("unselectable"))},800)))}).on(l.getNSEventName("mouseup",i.context),function(){e&&a&&a!==e||(a="",i.dataset.mouseIn=!1,i.dataset.mouseUp=!0,c(this).removeClass("unselectable"),i.hideVideoPreview())}).on(l.getNSEventName("mousemove",i.context),function(t){i.dataset.mouseIn&&(i.context.dataset.isImgAdLoadingShowing||i.context.dataset.isPlayingAd||e&&a&&a!==e||i.updateVideoPreview({x:i.calcProgressByMousePosition(t),progressWidth:i.dataset.$progressList.width(),duration:i.context.dataset.duration}))}),this.dataset.eventsList={},this.dataset.eventsList[l.getUniqueMsgKey("vidChange")]=function(){i.hideVideoPreview(),i.previewdata.destroyData()},this.dataset.eventsList[l.getUniqueMsgKey("hideUiControl")]=function(){i.hideVideoPreview()},this.dataset.eventsList[l.getUniqueMsgKey("previewPreload")]=function(t){i.dataset.$previewMod.hasClass(Txplayer.dataset.hideClass)||i.updatePreloadImg(t.cTime,t.imgInfo,t.isPreload)},c.each(this.dataset.eventsList,function(t,e){i.context.msg.on(t,e)})},showVideoPreview:function(){this.context.dataset.getinfoJSON&&(this.context.dataset.isDisableProgress||(this.context.dataset.isShowPreviewList=!0,this.dataset.$previewMod.removeClass(Txplayer.dataset.hideClass),this.dataset.$previewPosterMod.removeClass(Txplayer.dataset.hideClass)))},hideVideoPreview:function(){this.dataset.mouseIn||(this.context.dataset.isShowPreviewList=!1,this.dataset.$previewPosterMod.addClass(Txplayer.dataset.hideClass),this.dataset.$previewMod.addClass(Txplayer.dataset.hideClass))},updateVideoPreview:function(t){var e,i,a;t&&(t.hasOwnProperty("x")&&(t.x>=t.progressWidth?t.x=t.progressWidth:t.x<0&&(t.x=0)),t.hasOwnProperty("x")&&t.duration&&(e=t.duration*(t.x/t.progressWidth),i=parseInt(e),a=parseInt(l.getHlsAdOffsetTime(e,this.context)),this.updateImage(a,i)))}},Txplayer.register("UiPreviewList",r)},231:function(t,e){t.exports='<txpdiv  class="txp_preview <%=hideClass%>" data-role="<%=previewPosterMod%>" >\n\t<txpdiv data-role="<%=previewPoster%>" class="txp_preview_img"></txpdiv>\n</txpdiv>\n<txpdiv data-role="<%=previewMod%>" class="txp_tooltip_preview <%=hideClass%>">\n</txpdiv>'},57:function(t,e){var l=Txplayer.$;function i(t){this.context=t,this.dataset={},this.dataset.loaded={}}i.prototype={getDataByTime:function(t,e){return"array"===l.type(this.context.dataset.previewData)&&this.context.dataset.previewData.length?this.preFindPosition(t,e):(this.findPreviewData(),"array"===l.type(this.context.dataset.previewData)&&this.context.dataset.previewData.length?this.preFindPosition(t,e):"")},preFindPosition:function(t,e){var i;return 1<this.context.dataset.previewData.length?(i=this.findPosition(t,e,this.context.dataset.previewData[this.context.dataset.previewData.length-1]))?this.dataset.loaded&&this.dataset.loaded[i.url]?i:this.findPosition(t,e,this.context.dataset.previewData[0]):{}:this.findPosition(t,e,this.context.dataset.previewData[0])},findPosition:function(t,e,i){var a=this.getsTime(),s=1;t+a>=this.context.dataset.duration?t=this.context.dataset.duration-1:0!=t&&(t+=a);var r=Math.ceil((t||1)/a),o=i[0].picCount,d=Math.ceil(r/o)-1,n=i[d];if(1<a&&0===t&&(r=1),n){var p=r-o*d,h=0===(h=p%n.columnCount)?n.columnCount:h,c=(Math.ceil(p/n.columnCount)-1)*n.picHeight,l=(h-1)*n.picWidth;return{url:n.path,x:-1*l*(s=e/n.picWidth)+"px",y:-1*c*s+"px",size:n.columnCount*e,pixX:l,pixY:c,picWidth:n.picWidth,picHeight:n.picHeight,columnCount:n.columnCount,rowCount:n.rowCount}}},preloadPreviewImg:function(t,e){var i,a,s,r=this;"array"===l.type(this.context.dataset.previewData)&&1<this.context.dataset.previewData.length&&(i=this.context.dataset.previewData[this.context.dataset.previewData.length-1],a=this.findPosition(t,e,i,!0),(s=new Image).onload=function(){r.dataset.loaded[this.src]=!0,r.context.msg.broadcast("previewPreload",{cTime:t,imgInfo:a,isPreload:!0})},s.src=a.url)},getsTime:function(){var t=this.context.dataset.duration,e=t<60?1:t<300?2:t<600?5:10;return e},findPreviewData:function(){if("object"===l.type(this.context.dataset.getinfoJSON)){var i,a,s,t=this.context.dataset.getinfoJSON,r=this,o=[],d=this.context.dataset.duration,n=this.getsTime();this.context.dataset.previewData=[];if(t&&t.vl&&t.vl.vi&&t.vl.vi[0]&&t.vl.vi[0].pl&&t.vl.vi[0].pl[0]&&t.vl.vi[0].pl[0].pd&&t.vl.vi[0].pl[0].pd.length)for(var e=t.vl.vi[0].pl[0].pd,p=t.vl.vi[0],h=0,c=e.length;h<c;h++)!function(t){if(t){for(o=[],a=Math.floor(d/n),i=Math.ceil(a/(t.r*t.c)),s=0;s<i;s++){var e={index:s,path:t.url+p.lnk+"."+t.fn+"."+(s+1)+".jpg/0",picCount:t.r*t.c,picWidth:t.w,picHeight:t.h,rowCount:t.r,columnCount:t.c,filename:t.fn,format:t.fmt};o.push(e)}r.context.dataset.previewData.push(o)}}(e[h])}},destroyData:function(){this.dataset={},this.dataset.loaded={},this.context.dataset.previewData=[]}},t.exports=i}});!function(n){var i={};function a(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=n,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=232)}({232:function(t,e,n){t.exports=n(233)},233:function(t,e,n){var i=Txplayer.$,a=Txplayer.util,o=n(234);function s(t){i=Txplayer.$,this.dataset={},this.context=t,this.requestCount=0,this.init()}s.prototype={init:function(){this.write(),this.addEventListener()},write:function(){var t={ppbAdLayer:"txp-ui-control-preview-ad"};this.dataset.renderData=t,this.dataset.htmldata=i.tmpl(o,t),this.context.$mod.$playermod.find(".txp_tooltip_preview .txp_tooltip_current_bg").append(this.dataset.htmldata),this.context.dataset.$ppbAdLayer=this.dataset.$previewAd=this.context.dataset.$playermod.find('[data-role="'+t.ppbAdLayer+'"]')},remove:function(){this.dataset.$previewAd.remove()},requestAd:function(){this.context.msg.broadcast("adPluginMsg",{name:"requestCgi",params:"PPB"})},reportAd:function(){this.context.msg.broadcast("adPluginMsg",{name:"reportAd",adtype:"PPB",reportData:{view:!0}})},addEventListener:function(){var n=this;n.context.$mod.$progressmod.on("mouseenter",function(){n.context.dataset.isPlayingAd||n.context.dataset.isImgAdLoadingShowing||n.context.dataset.firstPlaying&&(n.context.dataset.hasPpbRequest||3<=n.requestCount||(n.requestCount++,n.requestAd()))}),n.context.$mod.$progressmod.on("mouseenter",function(){n.context.dataset.isPlayingAd||n.context.dataset.isImgAdLoadingShowing||n.context.dataset.firstPlaying&&n.reportAd()}).on("mousedown",function(){n.context.dataset.isPlayingAd||n.context.dataset.isImgAdLoadingShowing||n.context.dataset.firstPlaying&&n.reportAd()}),this.dataset.eventsList={},this.dataset.eventsList[a.getUniqueMsgKey("videoPlaying")]=function(){n.context.dataset.firstPlaying=!0},this.dataset.eventsList[a.getUniqueMsgKey("videoEnd")]=function(){n.context.dataset.firstPlaying=!1},this.dataset.eventsList[a.getUniqueMsgKey("vidChange")]=function(){n.context.dataset.hasPpbRequest=!1,n.requestCount=0},this.dataset.eventsList[a.getUniqueMsgKey("beforeVideoRePlay")]=function(){n.context.dataset.hasPpbRequest=!1,n.requestCount=0},this.dataset.eventsList[a.getUniqueMsgKey("previewListSizeChange")]=function(){},i.each(this.dataset.eventsList,function(t,e){n.context.msg.on(t,e)})}},Txplayer.register("UiPreviewAd",s)},234:function(t,e){t.exports=' <txpdiv data-role="<%=ppbAdLayer%>" class="txp_tooltip_preview_ad">\n </txpdiv>'}});!function(n){var s={};function l(e){if(s[e])return s[e].exports;var t=s[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=n,l.c=s,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(n,s,function(e){return t[e]}.bind(null,s));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=223)}({223:function(e,t,n){e.exports=n(224)},224:function(e,t,n){var s=Txplayer.$,l=Txplayer.util,r=(Txplayer.apiList,n(225)),o=n(56);function i(e){s=Txplayer.$,this.dataset={},this.context=e,this.init()}i.prototype={init:function(){this.dataset.browserFullscreenClass="txp_mode_fullscreen",this.context.dataset.isWindowFullscreen=!1,this.write(),this.addEventListerner(),this.exportsModuleApis(),this.context.config.disablePinch||o(this)},write:function(){var e={fullscreenBtn:"txp-ui-control-fullscreenbtn",toolTip:"window-fullscreen",tabindex:Txplayer.dataset.tabindex++},t=s.tmpl(r,e);this.context.$mod.$buttonsrightmod.append(t),this.dataset.$fullscreenBtn=this.context.$mod.$buttonsrightmod.find('[data-role="'+e.fullscreenBtn+'"]'),this.dataset.$txp_tooltip=this.dataset.$fullscreenBtn.find('[data-role="'+e.toolTip+'"]'),this.dataset.$playermod=this.context.$mod.$playermod,this.dataset.$fullscreenContainer=this.context.$mod.$playermod[0],this.isIE10()&&this.dataset.$txp_tooltip.html("\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u5168\u5c4f")},remove:function(){this.dataset.$fullscreenBtn.remove()},isIE10:function(){return Txplayer.util.browser.ie&&"10.0"==Txplayer.util.browser.ie.version},toggleWindowFullScreen:function(){this.isIE10()||(this.context.msg.broadcast("beforeResize"),this.context.dataset.isWindowFullscreen?this.exitWindowFullscreen():this.enterWindowFullscreen())},requestFullScreen:function(e,t,n){e=e||this.dataset.$fullscreenContainer,n="enter"===(t=t||"enter")?(n=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullscreen||e.webkitRequestFullscreen||e.msRequestFullscreen)||(e=document).requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullscreen||e.webkitRequestFullscreen||e.msRequestFullscreen:(n=e.cancelFullScreen||e.mozCancelFullScreen||e.webkitCancelFullScreen||e.exitFullscreen||e.webkitExitFullscreen||e.msExitFullscreen)||(e=document).cancelFullScreen||e.mozCancelFullScreen||e.webkitCancelFullScreen||e.exitFullscreen||e.webkitExitFullscreen||e.msExitFullscreen;try{n?n.call(e):n||"enter"!==t||this.context.msg.broadcast("videoRequestFullScreen")}catch(e){Txplayer.util.localLog("REQUEST_FULLSCREEN_ERROR"),l.showError("requestFullScreen error",e),this.context.msg.broadcast("reportError",{msg:e.message,code:Txplayer.define.reportCode.JS_ERROR,stack:e.stack})}},isFullScreen:function(){return document.mozFullScreen||document.webkitIsFullScreen||!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)},isCurrentFullScreenElement:function(){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement,t=this.context.dataset.$playermod&&this.context.dataset.$playermod.attr("id");if(e){var n=e.id||"";if(!t)return!0;var s=n===t;return s&&(Txplayer.dataset.lastFullScreenId=n),s}return Txplayer.dataset.lastFullScreenId===t},exitWindowFullscreen:function(e){this.dataset.$fullscreenBtn.attr("data-status",!1),this.context.dataset.isWindowFullscreen=!1,this.dataset.$txp_tooltip.html("\u5168\u5c4f"),e||this.requestFullScreen(null,"exit")},enterWindowFullscreen:function(e){var t=this;t.context.msg.broadcast("exitBrowserFullscreen",{noUpdateClass:!0}),t.dataset.$fullscreenBtn.attr("data-status",!0),t.context.dataset.isWindowFullscreen=!0,t.dataset.$txp_tooltip.html("\u9000\u51fa\u5168\u5c4f"),t.context.dataset.isShowBulletRegion?s("html").addClass("txp_html_barrage_on"):s("html").removeClass("txp_html_barrage_on"),e||t.requestFullScreen(null,"enter")},bindMouseEvent:function(){},addEventListerner:function(){var n=this;this.dataset.$fullscreenBtn.on("mouseenter",function(e){s(this).addClass("txp_hover")}),this.dataset.$fullscreenBtn.on("mouseleave",function(e){s(this).removeClass("txp_hover")}),this.dataset.$fullscreenBtn.on(Txplayer.dataset.clickEventName,function(){s(this).removeClass("txp_hover"),n.toggleWindowFullScreen();try{n.context.userMsg.broadcast("userClickFullscreenBtn",{status:n.dataset.$fullscreenBtn.attr("data-status")})}catch(e){}}),l.mobile||n.bindMouseEvent(),this.dataset.fullscreenHandler||(this.dataset.fullscreenHandler=function(e){if(n.isCurrentFullScreenElement()){n.context.dataset.isWindowFullscreen=n.isFullScreen(),n.context.dataset.isWindowFullscreen?(n.enterWindowFullscreen(!0),n.context.$mod.$playermod.addClass(n.dataset.browserFullscreenClass),s("html").addClass("txp_html_fullscreen")):(n.exitWindowFullscreen(!0),n.context.$mod.$playermod.removeClass(n.dataset.browserFullscreenClass),s("html").removeClass("txp_html_fullscreen"),Txplayer.dataset.lastFullScreenId="");try{n.context.userMsg.broadcast("windowFullscreenChange",n.context.dataset.isWindowFullscreen)}catch(e){}n.context.msg.broadcast("windowFullscreenChange",n.context.dataset.isWindowFullscreen)}}.bind(this)),s(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",this.dataset.fullscreenHandler),s(document).on(l.getNSEventName("visibilitychange",n.context),function(){/SE 2.X MetaSr 1.0/.test(navigator.userAgent)||l.browser.qqbrowser||l.os.mac&&l.browser.chrome&&n.exitWindowFullscreen()}),this.context.msg.on("closeAdClick",function(){n.exitWindowFullscreen()}),this.context.msg.on("UiShadownDblClick",function(){n.toggleWindowFullScreen()}),this.context.msg.on("webkitendfullscreen",function(){n.exitWindowFullscreen()}),this.dataset.eventsList={},this.dataset.eventsList[l.getUniqueMsgKey("error")]=function(e){n.context.dataset.isWindowFullscreen&&n.context.msg.broadcast("exitWindowFullscreen")},s.each(this.dataset.eventsList,function(e,t){n.context.msg.on(e,t)}),this.context.msg.on("followButtonClick",function(){n.context.config.loginHandler&&"function"==s.type(n.context.config.loginHandler.isLogin)&&n.context.config.loginHandler.isLogin()||n.context.dataset.isWindowFullscreen&&n.exitWindowFullscreen()})},destroy:function(){var e;null!==(e=this.dataset)&&void 0!==e&&e.fullscreenHandler&&s(document).off("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",this.dataset.fullscreenHandler)},exportsModuleApis:function(){var n=this;this.dataset.moduleApis={},this.dataset.moduleApis.toggleWindowFullScreen=n.toggleWindowFullScreen.bind(this),this.dataset.moduleApis.enterWindowFullscreen=n.enterWindowFullscreen.bind(this),this.dataset.moduleApis.exitWindowFullscreen=n.exitWindowFullscreen.bind(this),this.dataset.moduleApis.isWindowFullscreen=function(){return n.context.dataset.isWindowFullscreen},s.extend(this.context.userApi,this.dataset.moduleApis),s.each(this.dataset.moduleApis,function(e,t){n.context.msg.on(e,t)})}},Txplayer.register("UiWindowFullScreen",i)},225:function(e,t){e.exports='<txpdiv class="txp_btn txp_btn_fullscreen" data-role="<%=fullscreenBtn%>" data-status="false" data-report="window-fullscreen" aria-label="\u7cfb\u7edf\u5168\u5c4f">\n  <svg class="txp_icon txp_icon_fullscreen" version="1.1" viewBox="0 0 24 24">\n    <use class="txp_svg_symbol txp_svg_fullscreen" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="<%=svgPrefix%>#txp_svg_fullscreen"></use>\n    <use class="txp_svg_symbol txp_svg_fullscreen_true" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="<%=svgPrefix%>#txp_svg_fullscreen_true"></use>\n  </svg>\n  <txpdiv class="txp_tooltip" data-role="<%=toolTip%>">\u5168\u5c4f</txpdiv>\n</txpdiv>\n'},56:function(e,t){var s=Txplayer.util;e.exports=function(r){var o,i,t,n,a,c;s.os.ipad&&s.browser.safari&&navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")||(o=!1,n=t=i=0,a=function(){return r.context.dataset.isPlayingAd||"film"!==r.context.dataset.currentPlayListType||r.context.dataset.isControlTouch||!r.context.dataset.currentTime||0==r.context.dataset.playState||r.dataset.disable},c=function(e,t){return Math.sqrt(e*e+t*t)},r.context.dataset.$playermod.on("touchstart",function(e){var t,n,s,l;a()||(1===r.context.dataset.playState?o=!1:o||2!==r.context.dataset.playState||(o=!0),(e=e.originalEvent?e.originalEvent:e)&&e.touches&&1<e.touches.length&&(t=e.touches[0],n=e.touches[1],s=Math.abs(n.pageX-t.pageX),l=Math.abs(n.pageY-t.pageY),i=c(s,l)))}).on("touchmove",function(e){a()||(e=e.originalEvent?e.originalEvent:e)&&e.touches&&1<e.touches.length&&(e.preventDefault(),t=Math.abs(e.touches[0].pageX-e.touches[1].pageX),n=Math.abs(e.touches[1].pageY-e.touches[1].pageY))}).on("touchend",function(){var e;a()||(0<(e=c(t,n)-i)?r.enterWindowFullscreen():e<0&&r.exitWindowFullscreen(),t=n=i=0)}))}}});!function(o){var n={};function i(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=o,i.c=n,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=258)}({258:function(t,e,o){t.exports=o(259)},259:function(t,e,o){var n=Txplayer.$,i=Txplayer.util,a=o(260);function s(t){n=Txplayer.$,this.dataset={},this.context=t,this.init()}s.prototype={init:function(){this.dataset.playerConfig=this.context.config,this.dataset.vidsList=this.dataset.playerConfig.vidsList,this.write(),this.initDisplay(),this.addEventListerner(),this.exportsModuleApis()},initDisplay:function(){this.dataset.playerConfig.showLogo?this.dataset.$logo.removeClass(Txplayer.dataset.hideClass):this.dataset.$logo.addClass(Txplayer.dataset.hideClass)},write:function(){var t={logo:"txp-ui-control-logo",hideClass:Txplayer.dataset.hideClass,tabindex:Txplayer.dataset.tabindex++};this.dataset.renderData=t;var e=n.tmpl(a,t);this.context.$mod.$buttonsrightmod.append(e),this.dataset.$logo=this.context.$mod.$buttonsrightmod.find('[data-role="'+t.logo+'"]')},remove:function(){this.dataset.$logo.remove()},openAtTencentVideo:function(){var t,e,o;!this.context.config.logoActionToVindex&&"ke.qq.com"!==location.hostname?(t=this.context.dataset.vid,e=this.context.dataset.currentTime,!t||(o=i.getTxVideoPageURLByVid(t,0,e))&&(i.showInfo("\u5230 \u817e\u8baf\u89c6\u9891 \u64ad\u653e",o),window.open(o))):window.open("https://v.qq.com/")},addEventListerner:function(){var t=this;this.dataset.$logo.on("click",function(){t.openAtTencentVideo()})},exportsModuleApis:function(){var o=this;this.dataset.moduleApis={},this.dataset.moduleApis.openAtTencentVideo=function(){o.openAtTencentVideo()},n.each(this.dataset.moduleApis,function(t,e){o.context.msg.on(t,e)})}},Txplayer.register("UiLogo",s)},260:function(t,e){t.exports='<a data-role="<%=logo%>" class="txp_btn txp_btn_logo <%=hideClass%>" data-report="click-logo" aria-label="\u817e\u8baf\u89c6\u9891logo">\n  <span class="txp_logo"></span>\n  <txpdiv class="txp_tooltip">\u5230\u817e\u8baf\u89c6\u9891\u89c2\u770b\u6b64\u89c6\u9891</txpdiv>\n</a>'}});!function(i){var s={};function a(t){if(s[t])return s[t].exports;var e=s[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=i,a.c=s,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(i,s,function(t){return e[t]}.bind(null,s));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=171)}({171:function(t,e,i){t.exports=i(172)},172:function(t,e,i){var s=Txplayer.$,a=Txplayer.util,n=(Txplayer.apiList,i(173));function l(t){s=Txplayer.$,this.dataset={},this.context=t,this.init()}l.prototype={init:function(){this.dataset.playerConfig=this.context.config,this.write(),this.initDisplay(),this.addEventListener(),this.exportsModuleApis()},write:function(){var t={hideClass:Txplayer.dataset.hideClass,title:"txp-ui-title-mod",titleText:"txp-ui-title-text"};this.dataset.renderData=t;var e=s.tmpl(n,t);this.context.dataset.$playermod.append(e),this.dataset.$title=this.context.dataset.$playermod.find('[data-role="'+t.title+'"]'),this.dataset.$titleText=this.context.dataset.$playermod.find('[data-role="'+t.titleText+'"]')},remove:function(){this.dataset.$title.remove()},initDisplay:function(){this.dataset.playerConfig&&this.dataset.playerConfig.showTitle?this.dataset.$title.removeClass(Txplayer.dataset.hideClass):this.dataset.$title.addClass(Txplayer.dataset.hideClass)},updateTitle:function(){var t,e=this.context.dataset.title;e||(t=this.context.dataset.getinfoJSON)&&t.vl&&t.vl.vi&&t.vl.vi[0]&&t.vl.vi[0].ti&&(e=t.vl.vi[0].ti),e&&(this.dataset.title=e,this.dataset.$titleText.html(a.xss(e)+(this.context.dataset.titleExt||"")))},hideUiTitle:function(t){var e=this;e.context.dataset.isRightClickMenu||((t=t||0)?(e.dataset.hide_TIMER&&(clearTimeout(e.dataset.hide_TIMER),e.dataset.hide_TIMER=null),e.dataset.hide_TIMER=setTimeout(function(){e.dataset.$title.addClass(Txplayer.dataset.hideClass)},t)):e.dataset.$title.addClass(Txplayer.dataset.hideClass))},showUiTitle:function(){var t,e=this;e.context.dataset.isPlayingAd||e.context.dataset.isSmallWindowMode||(t=e.context.dataset.isWindowFullscreen||e.context.dataset.isBrowserFullscreen,(e.dataset.playerConfig.showTitle||t)&&(e.dataset.$title.removeClass(Txplayer.dataset.hideClass),e.hideUiTitle(3e3)))},addEventListener:function(){var i=this;i.updateTitle(),this.context.dataset.$playermod.on("mouseleave",function(){i.hideUiTitle()}).on("mousemove",function(t){i.dataset.screenX==t.screenX&&i.dataset.screenY==t.screenY||(i.dataset.screenX=t.screenX,i.dataset.screenY=t.screenY,i.showUiTitle())}),this.dataset.eventsList={},this.dataset.eventsList[a.getUniqueMsgKey("getVideoUrlSuccess")]=function(){i.updateTitle()},this.dataset.eventsList[a.getUniqueMsgKey("userPausePlayer")]=function(){i.showUiTitle()},this.dataset.eventsList[a.getUniqueMsgKey("userPlayPlayer")]=function(){i.hideUiTitle()},this.dataset.eventsList[a.getUniqueMsgKey("windowFullscreenChange")]=function(t){t?i.showUiTitle():i.hideUiTitle()},this.dataset.eventsList[a.getUniqueMsgKey("browserFullscreenChange")]=function(t){t?i.showUiTitle():i.hideUiTitle()},this.dataset.eventsList[a.getUniqueMsgKey("vidChange")]=function(){i.hideUiTitle()},this.dataset.eventsList[a.getUniqueMsgKey("seekStart")]=function(){i.hideUiTitle()},this.dataset.eventsList[a.getUniqueMsgKey("videoPlaying")]=function(t){t&&"film"!=t.playListType&&i.hideUiTitle()},s.each(this.dataset.eventsList,function(t,e){i.context.msg.on(t,e)})},exportsModuleApis:function(){var i=this;this.dataset.moduleApis={},this.dataset.moduleApis.setOnlineNum=function(t){t=+t;var e=!isNaN(t)&&0<t?'<txpdiv class="txp_video_online"><txpdiv class="txp_video_online_num">'+a.xss(t)+"</txpdiv>\u4eba\u6b63\u5728\u770b</txpdiv>":"";i.context.dataset.titleExt=e,i.updateTitle()},s.extend(this.context.userApi,this.dataset.moduleApis)}},Txplayer.register("UiTitle",l)},173:function(t,e){t.exports='<txpdiv data-role="<%=title%>" class="txp_video_title <%=hideClass%>">\n  <a data-role="<%=titleText%>" class="txp_title_link"></a>\n</txpdiv>'}});!function(o){var n={};function r(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=o,r.c=n,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=235)}({235:function(e,t,o){e.exports=o(236)},236:function(e,t){var i=Txplayer.$,c=Txplayer.util;Txplayer.apiList;function o(e){i=Txplayer.$,this.msg=new Txplayer.Events,this.dataset={},this.context=e,this.init()}o.prototype={init:function(){this.dataset.$playermod=this.context.dataset.$playermod,this.addEventListener()},remove:function(){this.dataset.$playermod.off("keydown").off("keyup")},reportUsrAction:function(e){this.context.msg.broadcast("reportUsrAction",{usr_action:"press-key",usr_action_detail:e})},addEventListener:function(){var s=this,a=[.5,1,1.25,1.5,2];this.dataset.$playermod.on("keydown",function(e){if(!s.context.dataset.disableHotKey){var t,o,n=s.context.dataset.isPlayingAd,r=!1;if(e.shiftKey||38!==e.keyCode)if(e.shiftKey||40!==e.keyCode)if(e.shiftKey||221!==e.keyCode)if(e.shiftKey||219!==e.keyCode){if(e.shiftKey&&48===e.keyCode){if(n)return;s.context.msg.broadcast("setPlaybackRate",1),s.reportUsrAction("shift+"+e.keyCode),r=!0}}else{if(n)return;if(o=s.context.dataset.playbackRate,1<=a.indexOf(o)&&(o=a[a.indexOf(o)-1]),o<.5)return;s.context.msg.broadcast("setPlaybackRate",o),s.reportUsrAction("shift+"+e.keyCode),r=!0}else{if(n)return;if(o=s.context.dataset.playbackRate,0<=a.indexOf(o)&&a.indexOf(o)<a.length&&(o=a[a.indexOf(o)+1]),2<o)return;s.context.msg.broadcast("setPlaybackRate",o),s.reportUsrAction("shift+"+e.keyCode),r=!0}else{if(n)return;(t=s.context.dataset.volume-5)<=0&&(t=0),s.context.msg.broadcast("setVolume",{volume:t,showTips:!0,isUserAction:!0}),s.context.msg.broadcast("updateChangedVolume",{volume:t}),s.reportUsrAction(e.keyCode),r=!0}else{if(n)return;100<=(t=s.context.dataset.volume+5)&&(t=100),s.context.msg.broadcast("setVolume",{volume:t,showTips:!0,isUserAction:!0}),s.context.msg.broadcast("updateChangedVolume",{volume:t}),s.reportUsrAction("38"),r=!0}return r?(e.preventDefault?e.preventDefault():window.event&&(window.event.returnValue=!1),e.stopPropagation?e.stopPropagation():window.event&&(window.event.cancelBubble=!0),!1):void 0}}).on("keyup",function(e){if(!s.context.dataset.disableHotKey){var t,o=i.inArray(e.keyCode,[48,49,50,51,52,53,54,55,56,57,58]),n=!1;if(e.shiftKey||32!==e.keyCode)if(e.shiftKey||39!==e.keyCode)if(e.shiftKey||37!==e.keyCode)if(e.shiftKey||77!==e.keyCode)if(70!==e.keyCode||e.shiftKey)if(70===e.keyCode&&e.shiftKey)c.browser&&c.browser.ie||(s.context.msg.broadcast("toggleBrowserFullScreen"),s.reportUsrAction("shift+"+e.keyCode),n=!0);else if(!e.shiftKey&&-1<o){if(s.context.dataset.isPlayingAd)return;var r=s.context.dataset.duration,a=parseInt(10*o/100*r);0==a&&(a=.1),r&&s.context.msg.broadcast("seekTo",a),s.reportUsrAction(e.keyCode),n=!0}else 27===e.keyCode?(s.dataset.$playermod.trigger("blur"),s.context.dataset.isBrowserFullscreen&&s.context.msg.broadcast("exitBrowserFullscreen"),s.reportUsrAction(e.keyCode)):e.shiftKey||86!==e.keyCode?e.shiftKey&&80===e.keyCode&&s.context.msg.broadcast("showUiConsole"):("v.qq.com"!==window.location.hostname&&(s.context.msg.broadcast("openAtTencentVideo"),s.reportUsrAction(e.keyCode)),n=!0);else c.browser&&c.browser.ie||(s.context.msg.broadcast("toggleWindowFullScreen"),s.reportUsrAction(e.keyCode),n=!0);else s.context.dataset.isMuted?s.context.msg.broadcast("unMute"):s.context.msg.broadcast("mute"),s.reportUsrAction(e.keyCode),n=!0;else t=s.context.dataset.currentTimeWithHlsAd,s.context.msg.broadcast("seekTo",t-5),s.reportUsrAction(e.keyCode),n=!0;else t=s.context.dataset.currentTimeWithHlsAd,s.context.msg.broadcast("seekTo",t+5),s.reportUsrAction(e.keyCode),n=!0;else{if(s.context.dataset.isPlayingAd)return;1===s.context.dataset.playState||3===s.context.dataset.playState?(s.context.msg.broadcast("pause"),s.context.msg.broadcast("userPausePlayer"),s.context.userMsg.broadcast("pause")):(!s.context.dataset.getinfoJSON&&s.context.dataset.disableAutoPlayNext?(s.context.msg.broadcast("beforeVideoRePlay"),s.context.msg.broadcast("playControl",{playStartTime:s.context.dataset.playStartTime,playEndTime:s.context.dataset.playEndTime,vid:s.context.dataset.vid,connectionPlayType:1})):s.context.msg.broadcast("playControl",{connectionPlayTime:s.context.dataset.connectionPlayTime,playStartTime:s.context.dataset.playStartTime,connectionPlayType:1}),s.context.msg.broadcast("userPlayPlayer")),s.reportUsrAction(e.keyCode),n=!0}return n?(e.preventDefault?e.preventDefault():window.event&&(window.event.returnValue=!1),e.stopPropagation?e.stopPropagation():window.event&&(window.event.cancelBubble=!0),!1):void 0}}).on("keypress",function(e){if(32===e.which)return!1})}},Txplayer.register("HdHotKey",o)}});!function(s){var n={};function r(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return s[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=s,r.c=n,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(s,n,function(e){return t[e]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=280)}({280:function(e,t,s){e.exports=s(281)},281:function(e,t,s){var r=Txplayer.$,a=Txplayer.util,n=(Txplayer.apiList,s(282));function i(e){r=Txplayer.$,this.dataset={},this.context=e,this.init()}i.prototype={init:function(){this.dataset.currentClass="txp_current",this.dataset.currentPercent="100",this.dataset.percentClassList=["txp_video_50","txp_video_75","txp_video_100"],this.write(),this.addEventListener()},write:function(){var e={screenPercentWrap:"txp-ui-screen-percent-wrap",screenPercent50:"txp-ui-screen-percent-50",screenPercent75:"txp-ui-screen-percent-75",screenPercent100:"txp-ui-screen-percent-100",hideClass:Txplayer.dataset.hideClass};this.dataset.renderData=e;var t=r.tmpl(n,e);this.context.dataset.$playermod.append(t),this.dataset.$screenPercentWrap=this.context.dataset.$playermod.find('[data-role="'+e.screenPercentWrap+'"]'),this.dataset.$screenPercent50=this.context.dataset.$playermod.find('[data-role="'+e.screenPercent50+'"]'),this.dataset.$screenPercent75=this.context.dataset.$playermod.find('[data-role="'+e.screenPercent75+'"]'),this.dataset.$screenPercent100=this.context.dataset.$playermod.find('[data-role="'+e.screenPercent100+'"]')},remove:function(){this.dataset.$screenPercentWrap.remove()},setScreenPercent:function(e){this.context.msg.broadcast("setVideoClass",{removeList:this.dataset.percentClassList}),this.dataset.$screenPercentWrap.children().removeClass(this.dataset.currentClass),50===e?(this.context.msg.broadcast("setVideoClass",{addList:["txp_video_fit_none","txp_video_50"]}),this.dataset.currentPercent="50",this.dataset.$screenPercent50.addClass(this.dataset.currentClass)):75===e?(this.context.msg.broadcast("setVideoClass",{addList:["txp_video_fit_none","txp_video_75"]}),this.dataset.currentPercent="75",this.dataset.$screenPercent75.addClass(this.dataset.currentClass)):100===e&&(this.context.msg.broadcast("setVideoClass",{addList:["txp_video_fit_none","txp_video_100"]}),this.dataset.currentPercent="100",this.dataset.$screenPercent100.addClass(this.dataset.currentClass)),this.getVideoTags().css({position:"absolute",top:0,rigth:0,bottom:0,left:0,width:this.dataset.currentPercent+"%",height:this.dataset.currentPercent+"%"}),this.context.dataset.currentPercent=this.dataset.currentPercent,this.context.msg.broadcast("videoScreenPercentChange",this.dataset.currentPercent)},getVideoTags:function(){return this.context.dataset.$shadow.siblings("video")},showUiScreenPercent:function(){var e=this,t=e.context.dataset.isWindowFullscreen||e.context.dataset.isBrowserFullscreen;e.context.dataset.isPlayingAd||e.context.dataset.isSmallWindowMode||t&&(e.dataset.$screenPercentWrap.removeClass(Txplayer.dataset.hideClass),e.hideUiScreenPercent(3e3))},hideUiScreenPercent:function(e){var t=this;t.context.dataset.isRightClickMenu||((e=e||0)?(t.dataset.hide_TIMER&&(clearTimeout(t.dataset.hide_TIMER),t.dataset.hide_TIMER=null),t.dataset.hide_TIMER=setTimeout(function(){t.dataset.$screenPercentWrap.addClass(Txplayer.dataset.hideClass)},e)):t.dataset.$screenPercentWrap.addClass(Txplayer.dataset.hideClass))},handlerWheelScroll:function(e){var t,s;(this.context.dataset.isWindowFullscreen||this.context.dataset.isBrowserFullscreen)&&(this.dataset.wheelDelayTimer||(s=this.dataset.$screenPercentWrap.find("."+this.dataset.currentClass),t=this,(s=s[0<e?"next":"prev"]())&&s.trigger&&s.trigger("click"),this.dataset.wheelDelayTimer=setTimeout(function(){t.dataset.wheelDelayTimer=null},1e3)))},addEventListener:function(){var n=this;this.dataset.$screenPercentWrap.on("click",function(e){var t=r(e.target),s=t.data("percent");s&&(s==n.dataset.currentPercent&&t.hasClass(n.dataset.currentClass)||n.setScreenPercent(s))}),this.context.dataset.$playermod.on("mouseleave",function(){n.hideUiScreenPercent()}).on("mousemove",function(e){n.dataset.screenX==e.screenX&&n.dataset.screenY==e.screenY||(n.dataset.screenX=e.screenX,n.dataset.screenY=e.screenY,n.showUiScreenPercent())}).on("mousewheel DOMMouseScroll",function(e){var t,s=e.originalEvent;s&&(t=s.wheelDelta||s.detail,s.detail&&(t=-40*s.detail),n.handlerWheelScroll(t))}),this.dataset.eventsList={},this.dataset.eventsList[a.getUniqueMsgKey("windowFullscreenChange")]=function(e){n.setScreenPercent(100),e?n.showUiScreenPercent():(n.context.msg.broadcast("setVideoClass",{removeList:n.dataset.percentClassList}),n.hideUiScreenPercent()),n.dataset.currentPercent=100},this.dataset.eventsList[a.getUniqueMsgKey("browserFullscreenChange")]=function(e){n.setScreenPercent(100),e?n.showUiScreenPercent():(n.context.msg.broadcast("setVideoClass",{removeList:n.dataset.percentClassList}),n.hideUiScreenPercent()),n.dataset.currentPercent=100},this.dataset.eventsList[a.getUniqueMsgKey("userPausePlayer")]=function(){n.showUiScreenPercent()},this.dataset.eventsList[a.getUniqueMsgKey("userPlayPlayer")]=function(){n.hideUiScreenPercent()},this.dataset.eventsList[a.getUniqueMsgKey("vidChange")]=function(){n.hideUiScreenPercent()},this.dataset.eventsList[a.getUniqueMsgKey("seekStart")]=function(){n.hideUiScreenPercent()},this.dataset.eventsList[a.getUniqueMsgKey("videoPlaying")]=function(e){e&&"film"!=e.playListType&&n.hideUiScreenPercent()},r.each(this.dataset.eventsList,function(e,t){n.context.msg.on(e,t)})}},Txplayer.register("UiScreenPercent",i)},282:function(e,t){e.exports='<txpdiv data-role="<%=screenPercentWrap%>" class="txp_screen_percent <%=hideClass%>">\n\t<txpdiv data-role="<%=screenPercent50%>" data-percent="50" class="txp_screen_50">50%</txpdiv>\n\t<txpdiv data-role="<%=screenPercent75%>" data-percent="75" class="txp_screen_75">75%</txpdiv>\n\t<txpdiv data-role="<%=screenPercent100%>" data-percent="100" class="txp_screen_100 txp_current">100%</txpdiv>\n</txpdiv>\n'}});!function(r){var n={};function o(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return r[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=r,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=177)}({177:function(t,e,r){t.exports=r(178)},178:function(t,e,r){var n=Txplayer.$,o=(Txplayer.util,Txplayer.apiList,r(179));function i(t){n=Txplayer.$,this.dataset={},this.context=t,this.init()}i.prototype={init:function(){this.write()},write:function(){var t={hide:Txplayer.dataset.hideClass,favorite:"txp-ui-favorite"};this.dataset.renderData=t;var e=n.tmpl(o,t);this.context.dataset.$playermod.append(e),this.dataset.$favorite=this.context.dataset.$playermod.find("[data-role="+t.favorite+"]")},remove:function(){this.dataset.$favorite.remove()}},Txplayer.register("UiTrBtnGroup",i)},179:function(t,e){t.exports='<txpdiv data-role="<%=favorite%>" class="txp_top_btns"></txpdiv>'}});!function(a){var s={};function n(t){if(s[t])return s[t].exports;var e=s[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=a,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=286)}({286:function(t,e,a){t.exports=a(287)},287:function(t,e,a){var s=Txplayer.$,n=Txplayer.util,r=a(288);function i(t){s=Txplayer.$,this.dataset={},this.context=t,this.init()}i.prototype={init:function(){this.write(),this.addEventListerner()},write:function(){var t={overlayPlay:"txp_overlay_play",hide:Txplayer.dataset.hideClass,overlayPlayStatus:"txp_overlay_play_status"};this.dataset.renderData=t;var e=s.tmpl(r,t);this.context.dataset.$playermod.append(e),this.dataset.$overlayPlay=this.context.dataset.$playermod.find("[data-role="+t.overlayPlay+"]"),this.dataset.$overlayPlayStatus=this.context.dataset.$playermod.find("[data-role="+t.overlayPlayStatus+"]")},remove:function(){this.dataset.$overlayPlay.remove()},animateDone:function(){this.dataset&&(this.dataset.$overlayPlay.removeClass("txp_overlay_play_animate"),this.dataset.$overlayPlay.addClass(Txplayer.dataset.hideClass))},showUiOverlayPlay:function(t){var e=this;e.context.dataset.isPlayingAd||("pause"===t?e.dataset.$overlayPlayStatus.attr("data-status","pause"):"play"===t&&e.dataset.$overlayPlayStatus.attr("data-status","play"),e.dataset.$overlayPlay.removeClass(Txplayer.dataset.hideClass),e.dataset.$overlayPlay.addClass("txp_overlay_play_animate"),e.dataset.$overlayPlay.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd animationend",function(){e.animateDone()}),setTimeout(function(){e.animateDone()},1100))},addEventListerner:function(){var a=this;this.dataset.eventsList={},this.dataset.eventsList[n.getUniqueMsgKey("userPausePlayer")]=function(){a.context.dataset.isVideoSeeking||a.showUiOverlayPlay("pause")},this.dataset.eventsList[n.getUniqueMsgKey("userPlayPlayer")]=function(){a.context.dataset.isVideoSeeking||a.showUiOverlayPlay("play")},s.each(this.dataset.eventsList,function(t,e){a.context.msg.on(t,e)})}},Txplayer.register("UiOverlayPlay",i)},288:function(t,e){t.exports='<txpdiv class="txp_overlay_play <%=hide%>" " data-role="<%=overlayPlay%>">\n\t<button class="txp_btn txp_btn_play_lg" data-status="play" data-role="<%=overlayPlayStatus%>">\n\t\t<svg class="txp_icon txp_icon_play" version="1.1" viewBox="0 0 36 36" width="36" height="36">\n\t\t\t<use class="txp_svg_symbol txp_svg_play" xlink:href="<%=svgPrefix%>#txp_svg_play" />\n\t\t\t<use class="txp_svg_symbol txp_svg_pause" xlink:href="<%=svgPrefix%>#txp_svg_pause" />\n\t\t\t<use class="txp_svg_symbol txp_svg_replay" xlink:href="<%=svgPrefix%>#txp_svg_replay" />\n\t\t</svg>\n\t</button>\n</txpdiv>\n'}});!function(s){var i={};function n(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return s[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}n.m=s,n.c=i,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(s,i,function(e){return t[e]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=289)}({289:function(e,t,s){e.exports=s(290)},290:function(e,t,s){var i=Txplayer.$,n=Txplayer.util,a=(Txplayer.apiList,s(291));function o(e){i=Txplayer.$,this.dataset={},this.context=e,this.init()}o.prototype={init:function(){this.write(),this.addEventListener()},write:function(){var e={hideClass:Txplayer.dataset.hideClass,clock:"txp-ui-clock-mod"};this.dataset.renderData=e;var t=i.tmpl(a,e);this.context.dataset.$playermod.append(t),this.dataset.$clock=this.context.dataset.$playermod.find('[data-role="'+e.clock+'"]')},remove:function(){this.dataset.$clock.remove()},hideUiClock:function(e){var t=this;t.context.dataset.isRightClickMenu||((e=e||0)?(t.dataset.hide_TIMER&&(clearTimeout(t.dataset.hide_TIMER),t.dataset.hide_TIMER=null),t.dataset.hide_TIMER=setTimeout(function(){t.dataset.$clock.addClass(Txplayer.dataset.hideClass)},e)):t.dataset.$clock.addClass(Txplayer.dataset.hideClass))},showUiClock:function(){var e=this,t=e.context.dataset.isWindowFullscreen||e.context.dataset.isBrowserFullscreen;e.context.dataset.isPlayingAd||e.context.dataset.isSmallWindowMode||t&&(e.dataset.$clock.removeClass(Txplayer.dataset.hideClass),e.dataset.$clock.html(n.dateFormat("hh:mm")),e.hideUiClock(3e3))},addEventListener:function(){var s=this;this.context.dataset.$playermod.on("mouseleave",function(){s.hideUiClock()}).on("mousemove",function(e){s.dataset.screenX==e.screenX&&s.dataset.screenY==e.screenY||(s.dataset.screenX=e.screenX,s.dataset.screenY=e.screenY,s.showUiClock())}),this.dataset.eventsList={},this.dataset.eventsList[n.getUniqueMsgKey("windowFullscreenChange")]=function(e){e?s.showUiClock():s.hideUiClock()},this.dataset.eventsList[n.getUniqueMsgKey("browserFullscreenChange")]=function(e){e?s.showUiClock():s.hideUiClock()},this.dataset.eventsList[n.getUniqueMsgKey("userPausePlayer")]=function(){s.showUiClock()},this.dataset.eventsList[n.getUniqueMsgKey("userPlayPlayer")]=function(){s.hideUiClock()},this.dataset.eventsList[n.getUniqueMsgKey("vidChange")]=function(){s.hideUiClock()},this.dataset.eventsList[n.getUniqueMsgKey("seekStart")]=function(){s.hideUiClock()},this.dataset.eventsList[n.getUniqueMsgKey("videoPlaying")]=function(e){e&&"film"!=e.playListType&&s.hideUiClock()},i.each(this.dataset.eventsList,function(e,t){s.context.msg.on(e,t)})}},Txplayer.register("UiClock",o)},291:function(e,t){e.exports='\x3c!-- \u65f6\u95f4 --\x3e\n<txpdiv data-role="<%=clock%>" class="txp_clock <%=hideClass%>"></txpdiv>\n'}});!function(a){var o={};function d(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,d),e.l=!0,e.exports}d.m=a,d.c=o,d.d=function(t,e,a){d.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},d.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(d.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)d.d(a,o,function(t){return e[t]}.bind(null,o));return a},d.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return d.d(e,"a",e),e},d.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},d.p="",d(d.s=295)}({295:function(t,e,a){t.exports=a(296)},296:function(t,e,a){var s=Txplayer.$,o=Txplayer.util,d=a(297),i=a(298);a(299);function n(t){s=Txplayer.$,this.dataset={},this.context=t,this.init()}n.prototype={init:function(){this.dataset.timeInterval=1,this.dataset.reportTimesLimit=3,this.dataset.dlSpeed=[],this.resetConsole(),this.write(),this.addEventListerner(),this.moduleExportApis()},resetConsole:function(){this.dataset.consoleData={flow:[]},this.dataset.reportTimes=null,this.dataset.dlSpeed=[],this.dataset.hasCallStopP2P=!1},write:function(){var t={console:"txp-ui-console",vid:"txp-ui-console-vid",volume:"txp-ui-console-volume",bufferPercent:"txp-ui-console-buf-per",bufferSeconds:"txp-ui-console-buf-seconds",droppedFrames:"txp-ui-console-dropped-frames",errorCode:"txp-ui-console-errorcode",close:"txp-ui-console-close",videoSize:"txp-ui-console-videoSize",downloadSpeed:"txp-ui-console-downloadspeed",downloadSpeedChart:"txp-ui-console-downloadspeed-chart",cdn:"txp-ui-console-cdn",protocol:"txp-ui-console-protocol",report:"txp-ui-console-report",errorCodeWrap:"txp-ui-console-errorcode-wrap",flowIdRole:"txp-ui-console-flowid",playerTypeMode:"txp-ui-console-playertype-mode",localLog:"txp-ui-console-local-log",drmFlag:"txp-ui-drm-flag",vidStr:this.context.dataset.vid,playerType:this.context.config.playerType,errcodeVal:this.dataset.errorcode,resolution:screen.width+" x "+screen.height,videoSizeStr:this.context.dataset.videoWidth?[this.context.dataset.videoWidth," x ",this.context.dataset.videoHeight].join(""):"",volumeStr:this.context.dataset.volume+"%",version:Txplayer.dataset.ver+"-"+Txplayer.appVersion+" ("+Txplayer.dataset.lastModify+")",flowId:this.context.dataset.flowid};this.dataset.renderData=t;var e=s.tmpl(o.isTouchPlayer(this.context)?i:d,t),a=this.context.dataset.$playermod;a.append(e),this.dataset.$console=a.find('[data-role="'+t.console+'"]'),this.dataset.$vid=a.find('[data-role="'+t.vid+'"]'),this.dataset.$volume=a.find('[data-role="'+t.volume+'"]'),this.dataset.$close=a.find('[data-role="'+t.close+'"]'),this.dataset.$bufferPercent=a.find('[data-role="'+t.bufferPercent+'"]'),this.dataset.$bufferSeconds=a.find('[data-role="'+t.bufferSeconds+'"]'),this.dataset.$errorCode=a.find('[data-role="'+t.errorCode+'"]'),this.dataset.$videoSize=a.find('[data-role="'+t.videoSize+'"]'),this.dataset.$downloadSpeed=a.find('[data-role="'+t.downloadSpeed+'"]'),this.dataset.$downloadSpeedChart=a.find('[data-role="'+t.downloadSpeedChart+'"]'),this.dataset.$cdn=a.find('[data-role="'+t.cdn+'"]'),this.dataset.$protocol=a.find('[data-role="'+t.protocol+'"]'),this.dataset.$report=a.find('[data-role="'+t.report+'"]'),this.dataset.$errorCodeWrap=a.find('[data-role="'+t.errorCodeWrap+'"]'),this.dataset.$flowIdRole=a.find('[data-role="'+t.flowIdRole+'"]'),this.dataset.$playerTypeMode=a.find('[data-role="'+t.playerTypeMode+'"]'),this.dataset.$droppedFrames=a.find('[data-role="'+t.droppedFrames+'"]'),this.dataset.$localLog=a.find('[data-role="'+t.localLog+'"]'),this.dataset.$drmFlag=a.find('[data-role="'+t.drmFlag+'"]'),window._txplayerlocalLogs&&window.downloadTxplayerLog&&this.dataset.$localLog.removeClass("txp_none"),this.dataset.$video=a.find("video")},remove:function(){this.dataset.$console.remove()},hide:function(){this.context.dataset.disableCalcDownloadSpeed=!0,this.dataset.$console.addClass(Txplayer.dataset.hideClass),this.stop()},show:function(){this.context.dataset.disableCalcDownloadSpeed=!1,this.isShowing()||(this.dataset.$console.removeClass(Txplayer.dataset.hideClass),this.start(),this.updateShowErrorCode())},updateShowErrorCode:function(){this.dataset.errorcode?(this.dataset.$errorCodeWrap.removeClass(Txplayer.dataset.hideClass),this.dataset.$errorCode.html(this.dataset.errorcode)):(this.dataset.$errorCodeWrap.addClass(Txplayer.dataset.hideClass),this.dataset.$errorCode.html(""))},isShowing:function(){return!this.dataset.$console.hasClass(Txplayer.dataset.hideClass)},getSpeedStart:function(){var t;this.dataset.timer||((t=this).dataset.timer=setInterval(function(){t.updateDownloadSpeedValue(t.context.dataset.videoDownloadSpeed),t.updateDownloadSpeendChart(t.context.dataset.videoDownloadSpeed)},1e3))},getSpeedStop:function(){this.dataset.timer&&(clearInterval(this.dataset.timer),this.dataset.timer=null)},start:function(){this.dataset.isConsoleShow=!0,this.getSpeedStart()},stop:function(){this.dataset.isConsoleShow=!1,this.getSpeedStop()},updateDownloadSpeedValue:function(t){this.dataset.$downloadSpeed.html(o.formatDownloadSpeed(t))},animate:function(t,e){t&&("function"===s.type(t.animate)?t.animate(e):t.css(e))},collectConsoleData:function(){this.dataset.consoleData.vid=this.context.dataset.vid,this.dataset.consoleData.cid=this.context.dataset.cid,this.dataset.consoleData.now=o.dateFormat(),this.dataset.consoleData.defn=this.context.dataset.definition,this.dataset.consoleData.uid=this.context.config.guid,this.dataset.consoleData.pid=this.context.config.playerId,this.dataset.errorcode&&(this.dataset.consoleData.errorcode=this.dataset.errorcode),this.getPlayerData()},updateBuffer:function(){var t,e;this.dataset.isConsoleShow&&(this.context.dataset.disableCalcDownloadSpeed=!1,(e=this.context.dataset.bufferHealth?this.context.dataset.bufferHealth:0)<0||(this.dataset.$bufferSeconds.html(e+"s"),t=180<=e?"100%":parseInt(e/180*100)+"%",this.animate(this.dataset.$bufferPercent,{width:t})))},updateDroppedFrames:function(){try{var t,e,a,o,d,s=this.getFocusVideoTag();s&&(e=o=d=t=0,"function"==typeof s.getVideoPlaybackQuality?(o=t=(a=s.getVideoPlaybackQuality()).totalVideoFrames,d=a.droppedVideoFrames):void 0!==s.webkitDroppedFrameCount&&void 0!==s.webkitDecodedFrameCount&&(o=(t=s.webkitDecodedFrameCount)+(d=s.webkitDroppedFrameCount)),0<t&&(e=(d/o*100).toFixed(2),this.dataset.isConsoleShow&&this.dataset.$droppedFrames.html(d+"/"+t+"; "+e+"%"),"chromehls"===this.context.config.playerType&&(3<e&&!this.dataset.hasCallStopP2P&&(this.dataset.hasCallStopP2P=!0,this.context.msg.broadcast("stopP2P")),this.context.dataset.currentTime%5==0&&this.context.msg.broadcast("setChromeHlsData",{k:"videoDropFrameRateChange",v:{dropFrameCount:d,totalFrameCount:o}})),1<e&&Txplayer.util.localLog("DROP_FRAME_ERROR",{percent:d/o*100,dropped:d,decodedCount:t})))}catch(t){}},getFocusVideoTag:function(){var a;return this.dataset.$video&&0<this.dataset.$video.length&&this.dataset.$video.each(function(t,e){if(e.isFocus)return a=e,!1}),a},getPlayerData:function(t){t=t||{};var e=this,a={pid:e.context.dataset.playerId,url:encodeURIComponent(o.getPlayerPageUrl()),vid:e.context.dataset.vid,version:Txplayer.dataset.ver,platform:e.context.dataset.platform,playtype:"",emsg2:"",id:t.id||"",action:"//btrace.qq.com/kvcollect?BossId=4372&Pwd=967411786",getinfo:encodeURIComponent(e.dataset.getinfoURL),getkey:encodeURIComponent(e.dataset.getkeyURL||"")||"",uin:o.getQQFromCookie(),ua:o.getReportUA(),refer:o.getTopFrameUrl(),pvid:o.cookie.get("pgv_pvid"),sessionid:o.cookie.get("psessionid"),main_login:o.cookie.get("main_login"),vuserid:o.cookie.get("vuserid"),openid:o.cookie.get("openid"),appid:o.cookie.get("appid")};return e.context.dataset.useHls?a.playtype=1:a.playtype=3,a.vurl=encodeURIComponent(e.context.dataset.currentVideoUrl),window.JSON&&JSON.stringify&&(a.emsg2=JSON.stringify(e.dataset.consoleData),a.emsg2=encodeURIComponent(a.emsg2)),this.dataset.reportData=a},getConsoleData:function(){var t=this.getPlayerData();return t.vid=this.context.dataset.vid,t.cid=this.context.dataset.cid,t.now=o.dateFormat(),t.defn=this.context.dataset.definition,t.uid=this.context.config.guid,t.pid=this.context.config.playerId,this.dataset.errorcode&&(t.errorcode=this.dataset.errorcode),t},
//   var jqFormUrl = '//vm.gtimg.cn/tencentvideo/txp/js/jquery.form.min.js?t=' + Txplayer.dataset.ts;
updateDownloadSpeendChartWithDiv:function(t){var e=1024<t?"100%":(t/10.24).toFixed(0)+"%",a='<txpdiv class="txp_box_value" style="width:0.5%;height:{per}"></txpdiv>'.replace("{per}",e);this.dataset.$downloadSpeedChart.append(a);var o=this.dataset.$downloadSpeedChart.find(".txp_box_value"),d=o.length;175<d&&o.each(function(t,e){t<d-175&&s(e).remove()})},updateDownloadSpeendChart:function(t){if("boolean"==typeof this.dataset.supportCanvas&&!this.dataset.supportCanvas)return this.updateDownloadSpeendChartWithDiv(t);var o=this;if(this.dataset.speedQueue||(this.dataset.speedQueue=[]),!this.dataset.speedCharContext){this.dataset.$downloadSpeedChart.append('<canvas width="180" height="14"></canvas>');var e=this.dataset.$downloadSpeedChart.find("canvas")[0];if(!e||"function"!=typeof e.getContext)return this.dataset.supportCanvas=!1,this.updateDownloadSpeendChartWithDiv(t);var a=e.getContext("2d");this.dataset.speedCharContext=a}this.dataset.speedQueue.push(t),90<this.dataset.speedQueue.length&&this.dataset.speedQueue.shift(),this.dataset.speedCharContext.clearRect(0,0,180,14),this.dataset.speedQueue.forEach(function(t,e){var a=Math.floor(t/200),a=Math.min(14,a);a=Math.max(2,a),o.dataset.speedCharContext.fillStyle=5<a&&a<10?"#03a9f4":10<=a&&a<=14?"#ff6428":"#009688",o.dataset.speedCharContext.fillRect(2*e,14,2,-14)})},updatePlayerType:function(){var t="",t=this.context.dataset.useChromeHls?"chromehls":this.context.config.playerType,e="?",e=this.context.dataset.useChromeHls?"hls.js":this.context.dataset.useHls||"safarihls"===t?"org-hls":"mp4";this.dataset.$playerTypeMode.html(t+"/"+e)},updateDrmFlag:function(){var t="false";4===this.context.dataset.drm?t="fairplay":5===this.context.dataset.drm&&(t="widevine"),this.dataset.$drmFlag.find("._drm_flag_value").text(t)},addEventListerner:function(){var a=this;this.dataset.eventsList={},this.dataset.eventsList[o.getUniqueMsgKey("vidChange")]=function(){a.dataset.hasCallStopP2P=!1,a.dataset.$vid.html(a.context.dataset.vid),a.dataset.$flowIdRole.html(a.context.dataset.flowid),a.resetConsole(),a.updateDrmFlag()},this.dataset.eventsList[o.getUniqueMsgKey("volumeChange")]=function(t){a.dataset.$volume.html(a.context.dataset.volume+"%")},this.dataset.eventsList[o.getUniqueMsgKey("getVideoUrlSuccess")]=function(t){var e=a.context.dataset.videoWidth?[a.context.dataset.videoWidth," x ",a.context.dataset.videoHeight].join(""):"";e&&a.dataset.$videoSize.html(e),t&&(a.dataset.$cdn.html(o.getDomainOfURL(t)),a.dataset.$protocol.html(o.getProtocolOfURL(t)))},this.dataset.eventsList[o.getUniqueMsgKey("setFocusVideoUrl")]=function(t){t&&t.url&&a.dataset.$cdn.html(o.getDomainOfURL(t.url))},this.dataset.eventsList[o.getUniqueMsgKey("getinfoFinish")]=function(t){a.dataset.getinfoURL=t.getinfoURL,t.err?a.dataset.consoleData.flow.push(+new Date+" getinfo err "+t.costTime+" "+["code="+(t.code||0),"exem="+(t.exem||0)].join(" ")):a.dataset.consoleData.flow.push(+new Date+" getinfo ok "+t.costTime)},this.dataset.eventsList[o.getUniqueMsgKey("getkeyFinish")]=function(t){a.dataset.getkeyURL=t.getkeyURL,t.err?a.dataset.consoleData.flow.push(+new Date+" getkey err "+t.costTime+" "+["code="+(t.code||0),"exem="+(t.exem||0),"msg="+t.err].join(" ")):a.dataset.consoleData.flow.push(+new Date+" getkey ok "+t.costTime)},this.dataset.eventsList[o.getUniqueMsgKey("error")]=function(t){t&&t.type&&-1<s.inArray(t.type,["loadingad","insertad","endingad"])&&a.dataset.consoleData.flow.push([+new Date,t.type,t.index,"err"].join(" ")),t&&(t.code||t.errCode)&&(a.dataset.errorcode=t.errCode||t.code,a.updateShowErrorCode())},this.dataset.eventsList[o.getUniqueMsgKey("reportVideoError")]=function(t){a.dataset.consoleData.flow.push([+new Date,t.type,t.index,"err",t.code,"ctime",a.context.dataset.currentTime||0,a.context.dataset.videoCurrentTime||0].join(" ")),t&&t.code&&(a.dataset.errorcode=t.code,a.updateShowErrorCode())},this.dataset.eventsList[o.getUniqueMsgKey("videoEnd")]=function(t){t&&t.playListType&&"videoEvent"===t.from&&a.dataset.consoleData.flow.push([+new Date,t.playListType,t.index,"played"].join(" "))},this.dataset.eventsList[o.getUniqueMsgKey("loadingAdDataReady")]=function(t){a.dataset.consoleData.flow.push([+new Date,"loadingad data",t&&t.length||0].join(" "))},this.dataset.eventsList[o.getUniqueMsgKey("insertAdDataReady")]=function(t){a.dataset.consoleData.flow.push([+new Date,"insertad data",t&&t.data&&t.data.length||0].join(" "))},this.dataset.eventsList[o.getUniqueMsgKey("endingAdDataReady")]=function(t){a.dataset.consoleData.flow.push([+new Date,"endingad data",t&&t.length||0].join(" "))},this.dataset.eventsList[o.getUniqueMsgKey("loadingadIsEmpty")]=function(){a.dataset.consoleData.flow.push([+new Date,"loadingad data 0"].join(" "))},this.dataset.eventsList[o.getUniqueMsgKey("loadingAdRequestError")]=function(t){a.dataset.consoleData.flow.push([+new Date,"loadingad cgi err",t&&t.code||0].join(" "))},this.dataset.eventsList[o.getUniqueMsgKey("videoTimeUpdate")]=function(t){a.updateBuffer(),a.updateDroppedFrames()},this.dataset.eventsList[o.getUniqueMsgKey("videoPlay")]=function(t){a.updateBuffer(),a.updatePlayerType(),a.updateDroppedFrames(),a.updateDrmFlag()},this.dataset.eventsList[o.getUniqueMsgKey("videoPlaying")]=function(t){a.dataset.errorcode=null,a.updateShowErrorCode(),a.updateDrmFlag()},this.dataset.eventsList[o.getUniqueMsgKey("chromehlsErrorSwitchToHtml5hd")]=function(t){setTimeout(function(){a.updatePlayerType(),a.updateDrmFlag()},100)},s.each(this.dataset.eventsList,function(t,e){a.context.msg.on(t,e)}),this.dataset.$close.on("click",function(){a.hide()}),this.dataset.$localLog.on("click","._download_txp_local_log",function(){window._txplayerlocalLogs&&window.downloadTxplayerLog&&window.downloadTxplayerLog()}),this.dataset.$localLog.on("click","._delete_txp_local_log",function(){window._txplayerlocalLogs&&window.clearTxplayerLog&&window.clearTxplayerLog()}),this.dataset.$report.on("dblclick",function(){a.collectConsoleData(),a.context.msg.broadcast("downloadLog",{playerInfo:a.dataset.reportData}),a.context.msg.broadcast("reportChromeHlsLog"),a.context.msg.broadcast("showConsoleReportTips")})},moduleExportApis:function(){var a=this;this.dataset.privateApis={},this.dataset.privateApis.showUiConsole=this.show.bind(this),s.each(this.dataset.privateApis,function(t,e){a.context.msg.on(t,e)}),this.dataset.dataApis={},this.dataset.dataApis.getConsoleData=function(t,e){e.data=a.getConsoleData()},s.each(this.dataset.dataApis,function(t,e){a.context.msg.setData(t,e)})}},Txplayer.register("UiConsole",n)},297:function(t,e){t.exports='<txpdiv data-role="<%=console%>" class="txp_console <%=Txplayer.dataset.hideClass%>" style="z-index: 99999;">\n  <txpdiv class="txp_console_inner">\n    <button data-role="<%=close%>" class="txp_btn_close" title="\u5173\u95ed"></button>\n    <txpdiv data-role="<%=report%>" class="txp_line" title="\u53cc\u51fb\u53d1\u9001\u9519\u8bef\u4fe1\u606f" style="cursor: pointer;">\n      <txpdiv class="txp_label">VID</txpdiv><txpdiv data-role="<%=vid%>" class="txp_value"><%=vidStr%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line">\n      <txpdiv class="txp_label">\u64ad\u653e\u6a21\u5f0f</txpdiv><txpdiv data-role="<%=playerTypeMode%>" class="txp_value"><%=playerType%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line">\n      <txpdiv class="txp_label">\u5206\u8fa8\u7387</txpdiv><txpdiv class="txp_value"><%=resolution%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line">\n      <txpdiv class="txp_label">\u89c6\u9891\u5bbd\u9ad8</txpdiv><txpdiv data-role="<%=videoSize%>" class="txp_value"><%=videoSizeStr%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line">\n      <txpdiv class="txp_label">\u97f3\u91cf</txpdiv><txpdiv data-role="<%=volume%>" class="txp_value"><%=volumeStr%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line">\n      <txpdiv class="txp_label">\u89c6\u9891\u534f\u8bae</txpdiv><txpdiv data-role="<%=protocol%>" class="txp_value"></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line">\n      <txpdiv class="txp_label">CDN</txpdiv><txpdiv data-role="<%=cdn%>" class="txp_value" style="font-size: 10px;"></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line">\n      <txpdiv class="txp_label">\u4e0b\u8f7d\u901f\u5ea6</txpdiv><txpdiv class="txp_value">\n        <txpdiv data-role="<%=downloadSpeedChart%>" class="txp_box_progress"></txpdiv>\n        <span data-role="<%=downloadSpeed%>"></span>\n      </txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line">\n      <txpdiv class="txp_label">\u7f13\u51b2\u8d28\u91cf</txpdiv><txpdiv class="txp_value">\n        <txpdiv class="txp_box_progress">\n          <txpdiv data-role="<%=bufferPercent%>" class="txp_box_value" style="width:0%"></txpdiv>\n        </txpdiv>\n        <span data-role="<%=bufferSeconds%>"></span>\n      </txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line">\n      <txpdiv class="txp_label">\u5e27\u6570</txpdiv><txpdiv data-role="<%=droppedFrames%>" class="txp_value"></txpdiv>\n    </txpdiv>\n    <txpdiv data-role="<%=errorCodeWrap%>" class="txp_line">\n      <txpdiv class="txp_label">\u9519\u8bef\u7801</txpdiv>\n      <txpdiv data-role="<%=errorCode%>" class="txp_value"><%=errcodeVal%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line">\n      <txpdiv class="txp_label">\u7248\u672c\u53f7</txpdiv>\n      <txpdiv class="txp_value"><%=version%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line">\n      <txpdiv class="txp_label">\u64ad\u653e\u6d41\u6c34</txpdiv>\n      <txpdiv data-role="<%=flowIdRole%>" class="txp_value"><%=flowId%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line" data-role="<%=drmFlag%>">\n      <txpdiv class="txp_label">drm</txpdiv>\n      <txpdiv class="txp_value _drm_flag_value">false</txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line txp_none" data-role="<%=localLog%>">\n      <txpdiv class="txp_label">\u672c\u5730\u65e5\u5fd7</txpdiv>\n      <txpdiv class="txp_value">\n        <span style="cursor: pointer;" class="_download_txp_local_log">\u70b9\u51fb\u4e0b\u8f7d</span> / \n        <span style="cursor: pointer;" class="_delete_txp_local_log">\u70b9\u51fb\u6e05\u9664</span>\n      </txpdiv>\n    </txpdiv>\n  </txpdiv>\n</txpdiv>'},298:function(t,e){t.exports='<txpdiv data-role="<%=console%>" class="txp_touch_console <%=Txplayer.dataset.hideClass%>" style="z-index: 99999;">\n  <txpdiv class="txp_touch_console_inner">\n    <button data-role="<%=close%>" class="txp_touch_btn_close" title="\u5173\u95ed"></button>\n    <txpdiv data-role="<%=report%>" class="txp_touch_line" title="\u53cc\u51fb\u53d1\u9001\u9519\u8bef\u4fe1\u606f" style="cursor: pointer;">\n      <txpdiv class="txp_touch_label">VID</txpdiv><txpdiv data-role="<%=vid%>" class="txp_touch_value"><%=vidStr%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line">\n      <txpdiv class="txp_touch_label">\u64ad\u653e\u6a21\u5f0f</txpdiv><txpdiv data-role="<%=playerTypeMode%>" class="txp_touch_value"><%=playerType%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line">\n      <txpdiv class="txp_touch_label">\u5206\u8fa8\u7387</txpdiv><txpdiv class="txp_touch_value"><%=resolution%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line">\n      <txpdiv class="txp_touch_label">\u89c6\u9891\u5bbd\u9ad8</txpdiv><txpdiv data-role="<%=videoSize%>" class="txp_touch_value"><%=videoSizeStr%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line">\n      <txpdiv class="txp_touch_label">\u97f3\u91cf</txpdiv><txpdiv data-role="<%=volume%>" class="txp_touch_value"><%=volumeStr%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line">\n      <txpdiv class="txp_touch_label">\u89c6\u9891\u534f\u8bae</txpdiv><txpdiv data-role="<%=protocol%>" class="txp_touch_value"></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line">\n      <txpdiv class="txp_touch_label">CDN</txpdiv><txpdiv data-role="<%=cdn%>" class="txp_touch_value" style="font-size: 10px;"></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line">\n      <txpdiv class="txp_touch_label">\u4e0b\u8f7d\u901f\u5ea6</txpdiv><txpdiv class="txp_touch_value">\n        <txpdiv data-role="<%=downloadSpeedChart%>" class="txp_touch_box_progress"></txpdiv>\n        <span data-role="<%=downloadSpeed%>"></span>\n      </txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line">\n      <txpdiv class="txp_touch_label">\u7f13\u51b2\u8d28\u91cf</txpdiv><txpdiv class="txp_touch_value">\n        <txpdiv class="txp_touch_box_progress">\n          <txpdiv data-role="<%=bufferPercent%>" class="txp_touch_box_value" style="width:0%"></txpdiv>\n        </txpdiv>\n        <span data-role="<%=bufferSeconds%>"></span>\n      </txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line">\n      <txpdiv class="txp_touch_label">\u5e27\u6570</txpdiv><txpdiv data-role="<%=droppedFrames%>" class="txp_touch_value"></txpdiv>\n    </txpdiv>\n    <txpdiv data-role="<%=errorCodeWrap%>" class="txp_touch_line">\n      <txpdiv class="txp_touch_label">\u9519\u8bef\u7801</txpdiv>\n      <txpdiv data-role="<%=errorCode%>" class="txp_touch_value"><%=errcodeVal%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line">\n      <txpdiv class="txp_touch_label">\u7248\u672c\u53f7</txpdiv>\n      <txpdiv class="txp_touch_value"><%=version%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line">\n      <txpdiv class="txp_touch_label">\u64ad\u653e\u6d41\u6c34</txpdiv>\n      <txpdiv data-role="<%=flowIdRole%>" class="txp_touch_value"><%=flowId%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line" data-role="<%=drmFlag%>">\n      <txpdiv class="txp_touch_label">drm</txpdiv>\n      <txpdiv class="txp_touch_value _drm_flag_value">false</txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line txp_none" data-role="<%=localLog%>">\n      <txpdiv class="txp_touch_label">\u672c\u5730\u65e5\u5fd7</txpdiv>\n      <txpdiv class="txp_touch_value">\n        <span style="cursor: pointer;" class="_download_txp_touch_local_log">\u70b9\u51fb\u4e0b\u8f7d</span> / \n        <span style="cursor: pointer;" class="_delete_txp_touch_local_log">\u70b9\u51fb\u6e05\u9664</span>\n      </txpdiv>\n    </txpdiv>\n  </txpdiv>\n</txpdiv>'},299:function(t,e){t.exports='<form id="<%=id%>" action="<%=action%>" method="post" class2="<%=Txplayer.dataset.hideClass%>" enctype="application/x-www-form-urlencoded">\n  <input type="hidden" name="pid" value="<%=pid%>" />\n  <input type="hidden" name="url" value="<%=url%>" />\n  <input type="hidden" name="vid" value="<%=vid%>" />\n  <input type="hidden" name="version" value="<%=version%>" />\n  <input type="hidden" name="platform" value="<%=platform%>" />\n  <input type="hidden" name="playtype" value="<%=playtype%>" />\n  <input type="hidden" name="emsg2" value="<%=emsg2%>" />\n  <input type="hidden" name="vurl" value="<%=vurl%>" />\n  <input type="hidden" name="getinfo" value="<%=getinfo%>" />\n  <input type="hidden" name="getkey" value="<%=getkey%>" />\n  <input type="hidden" name="encv" value="0" />\n  <input type="hidden" name="hc_uin" value="<%=uin%>" />\n  <input type="hidden" name="hc_ua" value="<%=ua%>" />\n  <input type="hidden" name="hh_ref" value="<%=refer%>" />\n  <input type="hidden" name="hc_pvid" value="<%=pvid%>" />\n  <input type="hidden" name="hc_ssid" value="<%=sessionid%>" />\n  <input type="hidden" name="hc_main_login" value="<%=main_login%>" />\n  <input type="hidden" name="hc_vuserid" value="<%=vuserid%>" />\n  <input type="hidden" name="hc_openid" value="<%=openid%>" />\n  <input type="hidden" name="hc_appid" value="<%=appid%>" />\n</form>'}});!function(a){var s={};function i(t){if(s[t])return s[t].exports;var e=s[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=a,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=300)}({300:function(t,e,a){t.exports=a(301)},301:function(t,e,a){var r=Txplayer.$,s=Txplayer.util,i=a(302),n=a(303);function o(t){r=Txplayer.$,this.dataset={},this.context=t,this.init()}o.prototype={init:function(){this.write(),this.addEventListerner(),this.exportsModuleApis(),this.dataset.errorCount=0,this.context.config.hideDefaultWatermark?this.dataset.defaultImg="":this.dataset.defaultImg="//i.gtimg.cn/qqlive/images/20170222/qing_224_70.png",this.dataset.$video=this.context.dataset.$videomod.find("video")},write:function(){var t={hideClass:Txplayer.dataset.hideClass,watermarkMod:"txp-ui-watermark-mod"},e=r.tmpl(s.isTouchPlayer(this.context)?n:i,t);this.context.dataset.$playermod.append(e),this.dataset.$watermarkMod=this.context.dataset.$playermod.find('[data-role="'+t.watermarkMod+'"]')},remove:function(){this.dataset.$watermarkMod.remove()},showWaterMarks:function(){this.context.dataset.isPlayingAd||this.context.dataset.isPlayingHlsAd||0!=this.context.dataset.buildWaterMarkActionFail&&this.dataset.$watermarkMod.removeClass(Txplayer.dataset.hideClass)},hideWaterMarks:function(){this.dataset.$watermarkMod.addClass(Txplayer.dataset.hideClass)},changeCss:function(t,e,a){var s,i,n=this,r=0,o=0;1==(a=a?a/100:n.context.dataset.currentPercent/100||1)&&(n.dataset.sca=this.dataset.$video.width()/n.dataset.vw>this.dataset.$video.height()/n.dataset.vh?this.dataset.$video.height()/n.dataset.vh:this.dataset.$video.width()/n.dataset.vw),s=n.dataset.vw*n.dataset.sca*a,i=n.dataset.vh*n.dataset.sca*a,(r=(this.context.dataset.$playermod.width()-s)/2)<0&&(r=0),(o=(this.context.dataset.$playermod.height()-i)/2)<0&&(o=0);var d=parseInt(e.w*n.dataset.sca*a),c=parseInt(e.h*n.dataset.sca*a),u=parseInt(r+s-d-e.x/n.dataset.vw*s),l=parseInt(o+e.y/n.dataset.vh*i);(u<r||r+s-d<u||l<o||o+i-c<l)&&t.hide(),t.css({width:d,height:c,left:u,top:l})},getWaterMarkInfos:function(){if(s.browser.pcqqlive&&s.browser.chrome&&s.compareVersion(s.browser.chrome.version,"30.0")<1)return[];var t=this.context.dataset.getinfoJSON;return t&&t.vl&&t.vl.vi&&"object"===r.type(t.vl.vi[0])&&(this.dataset.vw=t.vl.vi[0].vw,this.dataset.vh=t.vl.vi[0].vh,t.vl.vi[0].wl&&t.vl.vi[0].wl.wi&&"array"===r.type(t.vl.vi[0].wl.wi))?t.vl.vi[0].wl.wi:[]},buildWaterMarks:function(){var n=this;n.dataset.$watermarkMod.children().remove(),n.dataset.watermarkInfos=n.getWaterMarkInfos(),n.dataset.watermarkInfos.length<1||(n.dataset.errorCount=0,r.each(n.dataset.watermarkInfos,function(t,e){var a,s,i="https:"===location.protocol?e.surl:e.url;i&&e.w&&e.h&&(a=document.createElement("img"),(s=r(a)).addClass("txp_waterMark_pic"),s.attr("id",t),s.attr("src",i),s.css({position:"absolute"}),n.changeCss(s,e),n.dataset.$watermarkMod.append(s),n.dealWaterMarkEvent(s))}))},dealWaterMarkEvent:function(s){var i=this;s.on("error",function(){this.src!=i.dataset.defaultImg?(i.dataset.errorCount++,i.dataset.errorCount>=i.dataset.watermarkInfos.length?s.attr("src",i.dataset.defaultImg):s.remove()):s.remove()}),s.on("load",function(){var t,e=s.siblings(),a=e.length;if(0!=a)for(t=0;t<a;t++)if(i.hitTest(s,r(e[t]))){s.remove();break}})},hitTest:function(t,e){var a=parseInt(t.css("top").slice(0,-2)),s=parseInt(e.css("top").slice(0,-2)),i=parseInt(t.css("left").slice(0,-2)),n=parseInt(e.css("left").slice(0,-2));return!(i>n+e.width()||a>s+e.height()||n>i+t.width()||s>a+t.height())},resize:function(t){for(var e,a,s=this.dataset.$watermarkMod.find(".txp_waterMark_pic"),i=0;i<s.length;i++)e=parseInt(r(s[i]).attr("id")),isNaN(e)||(a=this.dataset.watermarkInfos[e],this.changeCss(r(s[i]),a,t))},addEventListerner:function(){var a=this;this.dataset.eventsList={},window.PageMessage&&window.PageMessage.on("vlist-expand",function(t){setTimeout(function(){a.resize()},200)}),r(window).on(s.getNSEventName("resize",a.context),function(){a.resize()}),this.dataset.eventsList[s.getUniqueMsgKey("windowFullscreenChange")]=function(){a.resize()},this.dataset.eventsList[s.getUniqueMsgKey("browserFullscreenChange")]=function(){setTimeout(function(){a.resize()},200)},this.dataset.eventsList[s.getUniqueMsgKey("videoScreenPercentChange")]=function(t){a.resize(t)},this.dataset.eventsList[s.getUniqueMsgKey("getVideoUrlSuccess")]=function(){if(a.dataset.hasBuild=!0,a.context.dataset.isDefinitionSwitching)return a.context.msg.off("setDefinitionDone.buildWaterMarks"),void a.context.msg.once("setDefinitionDone.buildWaterMarks",function(){a.buildWaterMarks()});a.buildWaterMarks(),a.hideWaterMarks()},this.dataset.eventsList[s.getUniqueMsgKey("switchHlsAd")]=function(t){t?a.hideWaterMarks():a.showWaterMarks()},this.dataset.eventsList[s.getUniqueMsgKey("videoTimeUpdate")]=function(t){a.dataset.hasBuild||(a.dataset.hasBuild=!0,a.buildWaterMarks())},this.dataset.eventsList[s.getUniqueMsgKey("resize")]=function(){a.resize()},a.dataset.eventsList[s.getUniqueMsgKey("smallWindowModeChange")]=function(t,e){setTimeout(function(){a.resize()},100)},this.dataset.eventsList[s.getUniqueMsgKey("videoPlaying")]=function(t){if(t&&"film"!=t.playListType)a.hideWaterMarks();else{if(a.resize(),a.context.dataset.isDefinitionSwitching)return;a.showWaterMarks()}},this.dataset.eventsList[s.getUniqueMsgKey("videoEnd")]=function(t){t.isAllEnd&&!a.context.dataset.canPlayTime&&a.hideWaterMarks()},this.dataset.eventsList[s.getUniqueMsgKey("isPlayingAdStatusChange")]=function(t){t&&a.hideWaterMarks()},this.dataset.eventsList[s.getUniqueMsgKey("vidChange")]=function(){a.dataset.errorCount=0,a.dataset.$watermarkMod.children().remove()},this.dataset.eventsList[s.getUniqueMsgKey("buildWaterMarkActionFail")]=function(){a.showWaterMarks()},r.each(this.dataset.eventsList,function(t,e){a.context.msg.on(t,e)})},exportsModuleApis:function(){}},Txplayer.register("UiWaterMark",o)},302:function(t,e){t.exports='<txpdiv data-role="<%=watermarkMod%>" class="txp-watermark <%=hideClass%>">\n</txpdiv>'},303:function(t,e){t.exports='<txpdiv data-role="<%=watermarkMod%>" class="txp-watermark <%=hideClass%>">\n</txpdiv>'}});!function(a){var s={};function i(t){if(s[t])return s[t].exports;var e=s[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=a,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=304)}({304:function(t,e,a){t.exports=a(305)},305:function(t,e,a){var c=Txplayer.$,l=Txplayer.util,s=a(306),u=a(307),i=a(308),h=a(309);function n(t){c=Txplayer.$,this.dataset={},this.context=t,this.init()}n.prototype={init:function(){this.write(),this.addEventListerner(),this.exportsModuleApis(),this.dataset.errorCount={},this.context.dataset.buildWaterMarkActionFail=!1,this.dataset.defaultImg="//i.gtimg.cn/qqlive/images/20170222/qing_224_70.png",this.dataset.$video=this.context.dataset.$videomod.find("video")},write:function(){var t={hideClass:Txplayer.dataset.hideClass,watermarkActionMod:"txp-ui-watermark-action-mod"},e=c.tmpl(l.isTouchPlayer(this.context)?i:s,t);this.context.dataset.$playermod.append(e),this.dataset.$watermarkActionMod=this.context.dataset.$playermod.find('[data-role="'+t.watermarkActionMod+'"]')},remove:function(){this.dataset.$watermarkActionMod.remove()},showWaterMarks:function(t){this.context.dataset.isPlayingAd||this.context.dataset.isPlayingHlsAd||(this.dataset.$watermarkActionMod.removeClass(Txplayer.dataset.hideClass),c(this.dataset.$watermarkActionMod.find(".txp-watermark-action-item")[t]).removeClass(Txplayer.dataset.hideClass))},hideSenseWaterMarks:function(t){c(this.dataset.$watermarkActionMod.find(".txp-watermark-action-item")[t]).addClass(Txplayer.dataset.hideClass)},hideWaterMarks:function(){this.dataset.$watermarkActionMod.addClass(Txplayer.dataset.hideClass)},changeCss:function(t,e,a){var s,i,n=this,r=(n.dataset.vw>n.dataset.vh?n.dataset.vh:n.dataset.vw)/n.dataset.ActionData.rw,o=e.x*r,d=e.y*r,c=e.w*r,l=e.h*r,u=0,h=0;1==(a=a?a/100:1)&&(n.dataset.sca=this.dataset.$video.width()/n.dataset.vw>this.dataset.$video.height()/n.dataset.vh?this.dataset.$video.height()/n.dataset.vh:this.dataset.$video.width()/n.dataset.vw),s=n.dataset.vw*n.dataset.sca*a,i=n.dataset.vh*n.dataset.sca*a,(u=(this.context.dataset.$playermod.width()-s)/2)<0&&(u=0),(h=(this.context.dataset.$playermod.height()-i)/2)<0&&(h=0);var v=parseInt(c*n.dataset.sca*a),f=parseInt(l*n.dataset.sca*a),p=parseInt(u+s-v-o/n.dataset.vw*s),g=parseInt(h+d/n.dataset.vh*i);(p<u||u+s-v<p||g<h||h+i-f<g)&&t.hide(),t.css({width:v,height:f,left:p,top:g})},getWaterMarkAction:function(){var t,e=c.Deferred(),a=this.context.dataset.getinfoJSON;return a&&a.vl&&a.vl.vi&&"object"===c.type(a.vl.vi[0])&&(this.dataset.vw=a.vl.vi[0].vw,this.dataset.vh=a.vl.vi[0].vh,a.vl.vi[0].wl&&a.vl.vi[0].wl.action&&(t=a.vl.vi[0].wl.action)),t?(t=t.replace(/https?:/g,""),c.ajax({url:t,dataType:"jsonp",timeout:5e3,jsonpCallback:"txplayerJsonpCallBack_getwatermark"}).done(function(t){t?e.resolve(t):e.reject()}).fail(function(){e.reject()})):e.reject(),e},buildWaterMarkAction:function(){var d=this;d.dataset.$watermarkActionMod.children().remove();d.dataset.errorCount={},d.getWaterMarkAction().done(function(t){t||(d.context.dataset.buildWaterMarkActionFail=!0,d.context.msg.broadcast("buildWaterMarkActionFail")),function(t){if(d.dataset.ActionData=t,d.dataset.ActionData&&d.dataset.ActionData.scenes&&"array"==c.type(d.dataset.ActionData.scenes)&&0<d.dataset.ActionData.scenes.length){var e={scenes:d.dataset.ActionData.scenes,hideClass:Txplayer.dataset.hideClass},a=c.tmpl(l.isTouchPlayer(d.context)?h:u,e);d.dataset.$watermarkActionMod.html(a),d.dataset.watermarkInfos=[];for(var s=0;s<d.dataset.ActionData.scenes.length;s++){d.dataset.watermarkInfos[s]=d.dataset.ActionData.scenes[s].wi;for(var i=0;i<d.dataset.ActionData.scenes[s].wi.length;i++){var n=d.dataset.ActionData.scenes[s].wi[i].url;if(!n||!d.dataset.ActionData.scenes[s].wi[i].w||!d.dataset.ActionData.scenes[s].wi[i].h)return;var r=document.createElement("img"),o=c(r);o.addClass("txp_waterMark_pic"),o.attr("id",i),o.attr("src",n),o.css({position:"absolute"}),d.changeCss(o,d.dataset.ActionData.scenes[s].wi[i]),c(c(".txp-watermark-action-item")[s]).append(r),d.dealWaterMarkEvent(o,s)}}}}(t)}).fail(function(){d.context.dataset.buildWaterMarkActionFail=!0,d.context.msg.broadcast("buildWaterMarkActionFail")})},dealWaterMarkEvent:function(s,t){var i=this;s.on("error",function(){this.src!=i.dataset.defaultImg?(i.dataset.errorCount[t]||(i.dataset.errorCount[t]=0),i.dataset.errorCount[t]++,i.dataset.errorCount[t]>=i.dataset.ActionData.scenes[t].wi.length?s.attr("src",i.dataset.defaultImg):s.remove()):s.remove()}),s.on("load",function(){var t,e=s.siblings(),a=e.length;if(0!=a)for(t=0;t<a;t++)if(i.hitTest(s,c(e[t]))){s.remove();break}})},hitTest:function(t,e){var a=parseInt(t.css("top").slice(0,-2)),s=parseInt(e.css("top").slice(0,-2)),i=parseInt(t.css("left").slice(0,-2)),n=parseInt(e.css("left").slice(0,-2));return!(i>n+e.width()||a>s+e.height()||n>i+t.width()||s>a+t.height())},resize:function(t){for(var e,a,s=this.dataset.$watermarkActionMod.find(".txp-watermark-action-item"),i=0;i<s.length;i++){e=parseInt(c(s[i]).data("scenesid")),a=this.dataset.watermarkInfos[e];for(var n=c(s[i]).find(".txp_waterMark_pic"),r=0;r<a.length;r++){var o=parseInt(c(n[r]).attr("id"));isNaN(o)||this.changeCss(c(n[r]),a[o],t)}}},addEventListerner:function(){var d=this;this.dataset.eventsList={},window.PageMessage&&window.PageMessage.on("vlist-expand",function(t){setTimeout(function(){d.resize()},200)}),c(window).on(l.getNSEventName("resize",d.context),function(){d.resize()}),this.dataset.eventsList[l.getUniqueMsgKey("windowFullscreenChange")]=function(){d.resize()},this.dataset.eventsList[l.getUniqueMsgKey("browserFullscreenChange")]=function(){setTimeout(function(){d.resize()},200)},this.dataset.eventsList[l.getUniqueMsgKey("videoScreenPercentChange")]=function(t){d.resize(t)},d.dataset.eventsList[l.getUniqueMsgKey("smallWindowModeChange")]=function(t,e){setTimeout(function(){d.resize()},100)},this.dataset.eventsList[l.getUniqueMsgKey("getVideoUrlSuccess")]=function(){if(d.context.dataset.buildWaterMarkActionFail=!1,d.dataset.hasBuild=!0,d.context.dataset.isDefinitionSwitching)return d.context.msg.off("setDefinitionDone.buildWaterMarksAction"),void d.context.msg.once("setDefinitionDone.buildWaterMarksAction",function(){d.buildWaterMarkAction()});d.buildWaterMarkAction()},this.dataset.eventsList[l.getUniqueMsgKey("videoTimeUpdate")]=function(t){d.dataset.hasBuild||(d.dataset.hasBuild=!0,d.buildWaterMarkAction())},this.dataset.eventsList[l.getUniqueMsgKey("resize")]=function(){d.resize()},this.dataset.eventsList[l.getUniqueMsgKey("videoPlaying")]=function(t){t&&"film"!=t.playListType&&d.hideWaterMarks()},this.dataset.eventsList[l.getUniqueMsgKey("isPlayingAdStatusChange")]=function(t){t&&d.hideWaterMarks()},this.dataset.eventsList[l.getUniqueMsgKey("switchHlsAd")]=function(t){t?d.hideWaterMarks():d.showWaterMarks()},this.dataset.eventsList[l.getUniqueMsgKey("videoTimeUpdate")]=function(t){if(!d.context.dataset.isPlayingAd&&!d.context.dataset.isDefinitionSwitching&&d.dataset.ActionData&&d.dataset.ActionData.duration){var e=d.dataset.ActionData.start,a=d.dataset.ActionData.duration,s=d.context.dataset.currentTime,i=e/1e3+a/1e3*d.dataset.ActionData.repeat,n=!1;if(0==d.dataset.ActionData.repeat||d.context.dataset.currentTime<i){for(var r=(s-e/1e3)%(a/1e3),o=0;o<d.dataset.ActionData.scenes.length;o++)r>=d.dataset.ActionData.scenes[o].in/1e3&&r<d.dataset.ActionData.scenes[o].out/1e3?(n=!0,d.showWaterMarks(o)):d.hideSenseWaterMarks(o);n||d.hideWaterMarks()}else d.hideWaterMarks()}},this.dataset.eventsList[l.getUniqueMsgKey("videoEnd")]=function(t){t.isAllEnd&&!d.context.dataset.canPlayTime&&d.hideWaterMarks()},this.dataset.eventsList[l.getUniqueMsgKey("vidChange")]=function(){d.dataset.errorCount={},d.dataset.$watermarkActionMod.children().remove()},c.each(this.dataset.eventsList,function(t,e){d.context.msg.on(t,e)})},exportsModuleApis:function(){}},Txplayer.register("UiWaterMarkAction",n)},306:function(t,e){t.exports='<txpdiv data-role="<%=watermarkActionMod%>" class="txp-watermark-action <%=hideClass%>">\n</txpdiv>'},307:function(t,e){t.exports='<% for(var len = scenes.length,i=0; i < len; i++){%>\n  <txpdiv class="txp-watermark-action-item <%=hideClass%>" data-scenesid="<%= i %>">\n\n  </txpdiv>\n<% } %>'},308:function(t,e){t.exports='<txpdiv data-role="<%=watermarkActionMod%>" class="txp-watermark-action <%=hideClass%>">\n</txpdiv>'},309:function(t,e){t.exports='<% for(var len = scenes.length,i=0; i < len; i++){%>\n  <txpdiv class="txp-watermark-action-item <%=hideClass%>" data-scenesid="<%= i %>">\n\n  </txpdiv>\n<% } %>'}});!function(a){var n={};function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=a,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=312)}({312:function(t,e,a){t.exports=a(313)},313:function(t,e,a){var d,r=a(314),i=a(315),u=null,x=document.queryCommandSupported&&document.queryCommandSupported("copy"),h=Txplayer.util;function n(t){d=Txplayer.$,this.dataset={},this.context=t,this.dataset.hideClass="txp_none",this.dataset.showClass="txp_show",this.init()}n.prototype={init:function(){x&&(this.write(),this.addEventListener())},write:function(){var e=this,a={rightClickMenuWrapper:"txp-right-click-menu-wrapper",videoInfo:"txp-right-click-menu-video-info",copyCurrentPageUrl:"txp-right-click-menu-copy-current-page-url",copyCurrentTimePageUrl:"txp-right-click-menu-copy-current-time-page-url",copyConsole:"txp-right-click-menu-copy-console",copyPlayerVersion:"txp-right-click-menu-copy-player-version"},t={rightClickMenuCopySuccess:"txp-right-click-menu-copy-success"};a.playerVersion=Txplayer.dataset.ver+" ("+Txplayer.dataset.lastModify+")",this.dataset.renderData=a;var n=d.tmpl(r,a);d("body").append(n),this.dataset.$playermod=this.context.dataset.$playermod,this.dataset.$playermod.append(d.tmpl(i,t)),e.dataset.$rightClickMenuWrapper=d("body").find('[data-role="'+a.rightClickMenuWrapper+'"]'),["videoInfo","copyCurrentPageUrl","copyCurrentTimePageUrl","copyConsole","copyPlayerVersion"].forEach(function(t){e.dataset["$"+t]=e.dataset.$rightClickMenuWrapper.find('[data-role="'+a[t]+'"]')}),e.dataset.$rightClickMenuCopySuccess=this.dataset.$playermod.find('[data-role="'+t.rightClickMenuCopySuccess+'"]'),this.context.config.hideCopyUrl&&(this.dataset.$copyCurrentPageUrl.remove(),this.dataset.$copyCurrentTimePageUrl.remove())},remove:function(){this.dataset.$rightClickMenuWrapper&&this.dataset.$rightClickMenuWrapper.off("click").remove(),u&&document.body.removeChild(u)},addEventListener:function(){var e,a,n,r,i,o,s,c,l=this,p=d("#txplayer_"+l.context.dataset.playerId);function t(t){return 0===p.length||(!!l.context.dataset.isPlayingAd||(!x||(!(!h.browser.ie||"edge"===h.browser.ie.version)||(!(d(t.target).is(":visible")&&d(t.target).hasClass("txp_player")||d(t.target).parents().hasClass("txp_player"))||(e=t.clientX,a=t.clientY,i=l.context.dataset.$playermod.width(),o=l.context.dataset.$playermod.height(),s=l.context.dataset.$playermod.offset().left,c=l.context.dataset.$playermod.offset().top,n=l.dataset.$rightClickMenuWrapper.width(),r=l.dataset.$rightClickMenuWrapper.outerHeight(),i-n<e-s&&(l.context.dataset.isWindowFullscreen||l.context.dataset.isBrowserFullscreen||!h.isVqqOrFilmqq())&&(e=i-n+s),o-r<a-c&&(l.context.dataset.isWindowFullscreen||l.context.dataset.isBrowserFullscreen||!h.isVqqOrFilmqq())&&(a=o-r+c),l.dataset.$rightClickMenuWrapper.css({left:e,top:a}),l.show(),!1)))))}l.context.dataset.$playermod.contextmenu?l.context.dataset.$playermod.contextmenu(t):d(window).on(h.getNSEventName("contextmenu",l.context),t),d(window).on(h.getNSEventName("click",l.context),function(t){1==t.which&&l.hide()}),this.dataset.$rightClickMenuWrapper.on("click",function(t){var e,a=t.target.getAttribute("data-role"),n="",r=l.dataset.renderData;switch(a){case r.copyCurrentPageUrl:n=location.protocol+"//v.qq.com/x/page/"+l.context.dataset.vid+".html";break;case r.copyCurrentTimePageUrl:n=h.appendParamsToUrl(location.protocol+"//v.qq.com/x/page/"+l.context.dataset.vid+".html",{start:l.context.dataset.currentTime});break;case r.copyConsole:n=l.context.msg.getData("getConsoleData")||"\u8fd8\u6ca1\u6709\u8c03\u8bd5\u4fe1\u606f\u5594",window.JSON&&JSON.stringify&&(n=JSON.stringify(n));break;case r.copyPlayerVersion:n=Txplayer.dataset.ver}a==r.videoInfo?l.context.msg.broadcast("showUiConsole"):(e=n,x&&((u=u||document.getElementsByClassName("txp_clipboard")[0]).value=e,u.select(),u.setSelectionRange(0,e.length),document.execCommand("copy"))),l.hide(),l.dataset.$rightClickMenuCopySuccess.removeClass("txp_none").addClass(l.dataset.showClass),setTimeout(function(){l.dataset.$rightClickMenuCopySuccess.addClass("txp_none").removeClass(l.dataset.showClass)},1e3)}),this.dataset.eventsList={},this.dataset.eventsList[h.getUniqueMsgKey("windowFullscreenChange")]=function(t){t?l.dataset.$playermod.append(l.dataset.$rightClickMenuWrapper):d("body").append(l.dataset.$rightClickMenuWrapper)},this.dataset.eventsList[h.getUniqueMsgKey("browserFullscreenChange")]=function(t){t?l.dataset.$playermod.append(l.dataset.$rightClickMenuWrapper):d("body").append(l.dataset.$rightClickMenuWrapper)},d.each(this.dataset.eventsList,function(t,e){l.context.msg.on(t,e)})},hide:function(){this.context.dataset.isRightClickMenu=!1,this.dataset.$rightClickMenuWrapper.addClass(this.dataset.hideClass)},show:function(){this.context.dataset.isRightClickMenu=!0,this.dataset.$rightClickMenuWrapper.removeClass(this.dataset.hideClass)}},Txplayer.register("UiRightClickMenu",n)},314:function(t,e){t.exports='<txpdiv class="txp_contextmenu txp_none" data-role="<%=rightClickMenuWrapper%>" style="overflow:hidden">\n    <txpdiv class="txp_menuitem" data-role="<%=videoInfo%>">\u89c6\u9891\u4fe1\u606f</txpdiv>\n    <txpdiv class="txp_menuitem" data-role="<%=copyCurrentPageUrl%>">\u590d\u5236\u89c6\u9891\u9875\u9762\u5730\u5740</txpdiv>\n    <txpdiv class="txp_menuitem" data-role="<%=copyCurrentTimePageUrl%>">\u590d\u5236\u5f53\u524d\u65f6\u95f4\u7684\u9875\u9762\u5730\u5740</txpdiv>\n    <txpdiv class="txp_menuitem" data-role="<%=copyConsole%>">\u590d\u5236\u8c03\u8bd5\u4fe1\u606f</txpdiv>\n    <txpdiv class="txp_menuitem" data-role="<%=copyPlayerVersion%>"><%=playerVersion%></txpdiv>\n    <textarea class="txp_clipboard" style="position: absolute; left: 100%; top: 0px;"></textarea>\n    \x3c!--<textarea class="ytp-html5-clipboard" style="position: absolute; left: -9999px; top: 0px;"></textarea>--\x3e\n</txpdiv>\n'},315:function(t,e){t.exports='<txpdiv class="txp_overlay_link txp_none" data-role="<%=rightClickMenuCopySuccess%>">\n    <txpdiv class="txp_icon_link">\n        <svg class="txp_icon" version="1.1" viewBox="0 0 36 36" >\n            <use class="txp_svg_symbol" xlink:href="<%=svgPrefix%>#txp_svg_link" />\n        </svg>\n    </txpdiv>\n</txpdiv>\n'}});